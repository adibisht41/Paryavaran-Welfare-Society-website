if(typeof(_geo)==="undefined"){var _geo=(typeof(geolocation)!=="undefined")?geolocation:100}else{_geo=(typeof geolocation!=="undefined")?geolocation:_geo}var chkGeo=function(b,a){if(_geo&&_geo!=""){if(b){b(_geo,a)}}else{$.get("/videos/geocode.cms",function(c){if($.trim(c)){_ls_set("_geo",c,30);_geo=$.trim(c)}else{_ls_set("_geo","100",30);_geo=100}if(b){b(c,a)}})}};var crtg_nid="4306";var crtg_cookiename="crtg_rta";var crtg_varname="crtg_content";function crtg_getCookie(c){var d,a,e,b=document.cookie.split(";");
for(d=0;d<b.length;d++){a=b[d].substr(0,b[d].indexOf("="));e=b[d].substr(b[d].indexOf("=")+1);a=a.replace(/^\s+|\s+$/g,"");if(a==c){return unescape(e)}}return""}var crtg_content=crtg_getCookie(crtg_cookiename);var crtg_rnd=Math.floor(Math.random()*99999999999);(function(){if(_geo!=1){var a=location.protocol+"//rtax.criteo.com/delivery/rta/rta.js?netId="+escape(crtg_nid);a+="&cookieName="+escape(crtg_cookiename);a+="&rnd="+crtg_rnd;a+="&varName="+escape(crtg_varname);var b=document.createElement("script");
b.type="text/javascript";b.src=a;b.async=true;if(document.getElementsByTagName("head").length>0){document.getElementsByTagName("head")[0].appendChild(b)}else{if(document.getElementsByTagName("body").length>0){document.getElementsByTagName("body")[0].appendChild(b)}}}})();window.isPwtLoaded=false;var PWT={};PWT.jsLoaded=function(){window.isPwtLoaded=true};function loadPWT(){var g=window.location.href;var b="//ads.pubmatic.com/AdServer/js/pwt/23105/46";var a="";if(g.indexOf("pwtv=")>0){var f=/pwtv=(.*?)(&|$)/g;
var e=f.exec(g);if(e.length>=2&&e[1].length>0){a="/"+e[1]}}var d=document.createElement("script");d.async=true;d.type="text/javascript";d.src=b+a+"/pwt.js";var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(d,c)}loadPWT();var googletag=googletag||{};googletag.cmd=googletag.cmd||[];(function(){var a=document.createElement("script");a.async=true;a.type="text/javascript";var c="https:"==document.location.protocol;a.src=(c?"https:":"http:")+"//www.googletagservices.com/tag/js/gpt.js";
var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)})();var _fic;if(document.referrer&&document.referrer.search(/timesofindia|jcmsdev|toidev/)==-1){var _ficarr=document.cookie.match(/(?:\s)?fic=(\w+);?/);_fic=(_ficarr&&_ficarr[1])?parseInt(_ficarr[1],10)+1:1;document.cookie="fic="+_fic}else{_fic=0}var adsthrottle=function(b,e){var c;var d=0;return function a(){var f=+new Date()-d;var h=this;var g=arguments;function j(){d=+new Date();e.apply(h,g)}c&&clearTimeout(c);if(f>b){j()
}else{c=setTimeout(j,b-f)}}};var dfpadsLoad=function(){if($("[data-adsSlot]").length>0){adsReadTag("default")}};var SCP=0;var inViewCtr=0;var slotObj=Object(),slotObj_all=Object();var adsReadTag=function(a){_fn_execute=function(c,d){googletag.cmd.push(function(){c.len=c.containers.length;c.arr=[];var g="";var E=[];var l=new Array();if(typeof(_ccaud)!="undefined"){for(var x=0;x<_ccaud.Profile.Audiences.Audience.length;x++){if(x<200){l.push(_ccaud.Profile.Audiences.Audience[x].abbr)}}}var o="";var n="";
var k=(typeof _Hyp1_pg!="undefined")?_Hyp1_pg:"";k=(typeof(qmsid)!="undefined"&&qmsid=="49332082")?"manipal hospitals":k;var h=(typeof _SCN_pg!="undefined")?_SCN_pg:"";var A=(typeof _PGT_pg!="undefined")?_PGT_pg:"";var m=(typeof _BL_pg!="undefined")?1:0;var z="";var D=function(F){if(typeof(F)=="undefined"){return""}if(F.length>100){return F.substr(0,100)}return F};var q=function(I,H){var G=I.data("adsSlot")||C.data("adsslot");if(!(G.match(/^7176/))){G="/7176/"+G}var F=I.data("size");E=I.attr("id");
if(H!=""&&H!="default"&&!E.match(new RegExp(H,"g"))){return true}if(F&&C.css("display")!="none"){g=googletag.defineSlot(G,F,E).addService(googletag.pubads())}else{if(C.css("display")!="none"){g=googletag.defineOutOfPageSlot(G,E).addService(googletag.pubads())}}if(I.data("adsrefresh")&&I.data("adsrefresh")!="all"){slotObj[E]=g}if(I.data("adsrefresh")&&I.data("adsrefresh")=="all"){slotObj_all[E]=g}c.arr.push(E)};var u=function(F,G){var H=(F+"").split("|");if((F+"").indexOf("!")>=0){if(H.indexOf("!"+G)>=0){return true
}else{return false}}else{if(H.indexOf(G)>=0){return false}else{return true}}};for(var x=0;x<c.len;x++){var C=$(c.containers[x]);var j=C.data("adsSlot")||C.data("adsslot");if(!(j.match(/^7176/))){j="/7176/"+j}var p=C.data("size");var f=C.data("isactive");E=C.attr("id");if(d&&typeof d==="object"){if(d.parent&&d.parent[f]&&d.parent[f]["status"]==1&&(d.parent[f]["loc"]=="All"||d.parent[f]["loc"]==_geo)){}else{continue}}var v=C.data("cookie");if(v&&v!=""){var e=times.cookie.get(v);if(e){$("#"+E).removeAttr("data-adsSlot").removeAttr("data-adsslot");
continue}}var w=C.data("fic");if(w&&w!=""){if(_fic>w||_fic==0){$("#"+E).removeAttr("data-adsSlot").removeAttr("data-adsslot");continue}}var t=C.data("inview");if(t&&t!=""){if($(window).scrollTop()<t&&inViewCtr!=-1){continue}$("#"+E).removeAttr("data-adsSlot").removeAttr("data-adsslot");$("#"+E).removeAttr("data-inview")}var s=C.data("geo");if(s&&s!=""){if(_geo!=""){if(u(s,_geo)){$("#"+E).removeAttr("data-adsSlot").removeAttr("data-adsslot");continue}q(C,a)}}else{q(C,a);if(_geo==""&&x==0){chkGeo()
}}}googletag.pubads().setTargeting("sg",l).setTargeting("HDL",D(o)).setTargeting("ARC1",D(n)).setTargeting("fic",_fic+"").setTargeting("SCP",SCP+"").setTargeting("Hyp1",D(k)).setTargeting("article",D(z)).setTargeting("SCN",h+"").setTargeting("PGT",A+"").setTargeting("BL",m+"");var B=(crtg_content||"").split(";");var y=googletag.pubads();var r=[];if(B.length>0&_geo!=1){for(var x=1;x<B.length;x++){r.push(""+B[x-1].split("=")[1]+"")}}if(r.length>0&&_geo!=1){y.setTargeting("crtotoi",r)}googletag.pubads().enableAsyncRendering();
googletag.pubads().collapseEmptyDivs(true);googletag.pubads().enableSingleRequest();googletag.enableServices();for(var x=0;x<c.arr.length;x++){E=c.arr[x];googletag.display(E);$("#"+E).removeAttr("data-adsSlot").removeAttr("data-adsslot")}})};if($("[data-adsSlot]:not([data-isactive]),[data-adsslot]:not([data-isactive])").length){_fn_execute({containers:$("[data-adsSlot]:not([data-isactive]),[data-adsslot]:not([data-isactive])")})}if($("[data-adsSlot][data-isactive],[data-adsslot][data-isactive]").length){var b;
if(window.toiprops&&window.toiprops.subsec2){b=window.toiprops.subsec2}else{if(window.toiprops&&window.toiprops.subsec1){b=window.toiprops.subsec1}else{}}if(b){b="http://timesofindia.indiatimes.com/manageads/"+b+".jsons";$.ajax({url:b,dataType:"json",cache:true,success:function(c){_fn_execute({containers:$("[data-adsSlot][data-isactive],[data-adsslot][data-isactive]")},c)},error:function(e,c,d){}})}}};var adRefresh=function(a){googletag.cmd.push(function(){for(var b in slotObj){var c=new RegExp(a);
if(c.test(b)){googletag.pubads().refresh([slotObj[b]])}}})};var adRefresh_all=function(){googletag.cmd.push(function(){for(var a in slotObj_all){googletag.pubads().refresh([slotObj_all[a]])}})};var buildAdsAj=function(a){if(a!=""){SCP++;if($("[data-adsrefresh][data-adsrefresh!='all']:not([data-adsslot])").length>0){adRefresh(a)}if($("[data-adsrefresh][data-adsrefresh='all']:not([data-adsslot])").length>0){adRefresh_all()}}adsReadTag(a)};var onScroll=adsthrottle(2000,function(){if($("[data-inview]").length>0){inViewCtr=-1;
buildAdsAj()}});$(document).ready(function(){dfpadsLoad("default");inViewCtr=$("[data-inview]").length;$(window).scroll(function(){onScroll()})});$(window).load(function(){onScroll()});var colombia=colombia||{};colombia.fns=colombia.fns||[];var ctnAds={loadColombiaJS:function(){var a=document.createElement("script");a.async=true;a.type="text/javascript";a.src="http://static.clmbtech.com/ad/commons/js/colombia_v2.js";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b);if(!Object.keys){Object.keys=function(e){var d=[];
for(var c in e){if(e.hasOwnProperty(c)){d.push(c)}}return d}}},refresh:function(a){colombia.fns.push(function(){colombia.refresh(a)})},colombiaClear:function(){colombia.clear()},getCtnAdConfigParams:function(b,c){var a=typeof(c)==="object"?c:{};a.slot=a.slot?a.slot:b.data("slot");a.position=a.position?a.position:b.data("position");a.slotType=b.data("slot-type");a.pos=b.data("pos");a.secid=a.secid?a.secid:((b.data("secid"))?b.data("secid"):0);a.descLen=a.descLen?a.descLen:b.data("desc-len");a.callback=a.callback?a.callback:b.data("callback");
a.pgTag=b.data("pg-tag");a.tplId=a.tplId?a.tplId:(b.data("native-tmpl-temp")?b.data("native-tmpl-temp"):b.data("native-tmpl"));return a},notify:function(a,d,b){if(d!=""){try{window[d](a,b)}catch(c){}}},tmplrender:function(b,d,l){try{l=ctnAds.getCtnAdConfigParams(d,l);var m=$("#"+l.tplId).html();d.hide().empty();for(var f=0;f<b.length;f++){var g=m;if(b[f].itemType===4){g=d.data("native-vid-tmpl")?$("#"+d.data("native-vid-tmpl")).html():g}var c=l.descLen?((b[f].title+" "+b[f].text).substring(0,l.descLen-3)+"..."):(b[f].title+" "+b[f].text);
c=c.length<=25?c.substring(0,c.length-3):c;var j={"~url~":b[f].itemType===5?"#":b[f].clk[0],"~ctaurl~":b[f].itemType===5?"event.preventDefault();"+b[f].clk[0]:"","~sImg~":b[f].mainimage,"~wideImg~":b[f].extraImages[0],"~name~":b[f].title,"~desc~":(l.descLen?(b[f].text.substring(0,l.descLen-3)+"..."):b[f].text),"~brandtext~":b[f].brandtext,"~colombiaImg~":"http://static.clmbtech.com/ad/commons/images/colombia_red_small.png","~icon-colombia~":'<i class="clmcup"></i>',"~name-desc~":b[f].title+" "+b[f].text,"~name-desc-trim~":c,"~pg-tag~":isNaN(+l.pgTag)?l.pgTag:((+l.pgTag)+f),"~ctadiv~":b[f].ctaText?'<button type="button" class="ctabtn" onclick="'+b[f].clk[0]+'">'+b[f].ctaText+"</button>":"","~icon-ctn-vid~":(b[f].itemType===4?'<i class="sprite_bg icon_player icon_ctn_vid"></i>':""),"~ctn-vid-ad-container~":(b[f].itemType===4?'<div class="ctn-vid-ad"><div class="ctn_loader"></div></div>':"")};
var k=new RegExp("~url~","g");for(var a in j){if(j.hasOwnProperty(a)){var k=new RegExp(a,"g");g=g.replace(k,j[a])}}d.append(g);if(b[f].itemType===4){ctnAds.renderVideoAds(d,b[f],l,j["~url~"])}}if(d.data("loop")==0&&b&&b.length!=0&&b[0].itemType==4){d.parent().hide()}else{d.show();ctnAds.notify(true,l.callback,d)}}catch(h){console.error(h)}return true},renderVideoAds:function(f,g,h,c){f.find("a").attr({href:"javascript:void(0);",target:""});var a=f.data("ad-size")?f.data("ad-size"):[0,250];var d=f.data("expansion-size")?f.data("expansion-size"):[0,250];
var j=f.data("loop")==0?"/ads_native_video_dev.cms":"";if(a&&a.length>=2){var e={};var k={};if(a[0]!==0){k.width=a[0]+"px";k.eWidth=d[0]?d[0]:undefined;e.width=f.width()+"px"}if(a[1]!==0){k.height=a[1]+"px";k.eHeight=d[1]?d[1]:undefined;e.height=f.height()+"px"}var b={placeholderId:f.attr("id")+"-iframe",container:f.find(".ctn-vid-ad")};b.placeholder=$("#"+b.placeholderId);if(!b.placeholder.length){b.placeholder=$("<iframe></iframe>").attr({id:b.placeholderId,"class":"ctn-vid-ad-iframe",width:(k.width?k.width:"100%"),height:k.height,frameborder:"0",scrolling:"no",src:j,style:"display:none;background-color:#000;"}).data("existing-size",e).load(function(){if(f.data("loop")!=0){$(this).show()
}$(this).siblings(".ctn_loader").hide();g.autoplay=f.data("autoplay")?1:0;g.audio=f.data("audio")?1:0;if(this.contentWindow.colombiaVideoAd){this.contentWindow.colombiaVideoAd(g,f.attr("id"))}});b.container.css("width",(k.width?k.width:"100%")).append(b.placeholder)}}f.on("click",function(l){if(b.container.is(":hidden")||$(this).data("loop")==0){if($(this).data("loop")!=0){b.placeholder.attr("src","/ads_native_video_dev.cms")}else{b.container.attr("data-played","true");$(this).find("#"+b.placeholderId).show()
}$(".ctn-vid-ad:visible").not(b.container).not('[data-loop="0"]').each(function(m,n){$($(n).find(".ctn-vid-ad-iframe")[0].contentDocument).find("#abort-vid-ad").click()});f.find(".hid-vid-play").fadeOut("slow",function(){var m={width:k.width,height:"+="+(+k.eHeight+30)};$(f).animate(m,{duration:"slow",queue:false});b.container.show();$(b.container).animate({height:k.height},{duration:"slow",queue:false,complete:function(){}})}).delay(300)}});if($(".ctn-vid-ad[data-played]").length===0&&f.data("autoplay")&&f.data("loop")!=0){f.click()
}},inViewCTN:function(d){var f=$(window);var b={top:f.scrollTop(),left:f.scrollLeft()};b.right=b.left+f.width();b.bottom=b.top+f.height();var a=d.outerHeight();var c=d.outerWidth();if(!c||!a){return false}var e=d.offset();e.right=e.left+c;e.bottom=e.top+a;return(!(b.right<e.left||b.top>e.bottom||b.left>e.right||b.bottom<e.top))},showVideoAd:function(c,a){var b=c.attr("id");if(ctnAds.inViewCTN(a)){$(window).off("scroll."+b);a.click()}}};$(document).ready(function(){$.each($("[data-callid]"),function(a,c){var b=$(this).attr("data-callid");
$(this).replaceWith($("#"+b).clone())})});var processCtnAds=function(d,c){var f=$("#"+c);var j=ctnAds.getCtnAdConfigParams(f);try{if(window.location.hostname.match(/^toidev|^jcmsdev/)){var b=window.location.search;if(b.match(/[?&]ctnfail=1/)){d=null}else{if(b.match(/[?&]ctnfailcode=[\d]+/)[0].indexOf(j.slot)!=-1){d=null}}}}catch(h){}if(d===null){if(f.find(".content_placeholder").length!=0){f.hide()}ctnAds.notify(false,j.callback,f);return true}var g=Object.keys(d);for(var k=0;k<g.length;k++){try{if(g[k].indexOf("Ads")>-1){var a=d[g[k]];
if(g.length>2){ctnAds.tmplrender(a,f.find('[data-slot-type="'+g[k]+'"]'),j)}else{ctnAds.tmplrender(a,f,j)}}}catch(h){console.log(h)}}return true};var colombiaVidAdStart=function(b){var c=$("#"+b);var a=$("#"+b.replace("-iframe",""));console.log("Start Video - "+a.data("slot"));if(a.data("loop")==0){console.log("Started Video - "+a.data("slot"));ctnAds.notify(true,a.data("callback"),a);if(ctnAds.inViewCTN(a)){ctnAds.showVideoAd(c,a)}else{$(window).on("scroll."+b,function(){ctnAds.showVideoAd(c,a)})
}}};var colombiaVidAdComplete=function(b){var c=$("#"+b);var a=$("#"+b.replace("-iframe",""));var d=c.data("existing-size");if(a.data("loop")===0){a.parent().slideUp(1000,function(){$(this).remove()})}else{$(a).animate(d,"slow",function(){c.hide().parent().hide().css("height","");c.attr("src","");a.css("height","").find(".hid-vid-play").fadeIn("slow")})}};$(document).ready(function(){ctnAds.loadColombiaJS()});(function(f){function g(a){var o=a||window.event,n=[].slice.call(arguments,1),m=0,l=!0,k=0,j=0;
return a=f.event.fix(o),a.type="mousewheel",o.wheelDelta&&(m=o.wheelDelta/120),o.detail&&(m=-o.detail/3),j=m,o.axis!==undefined&&o.axis===o.HORIZONTAL_AXIS&&(j=0,k=-1*m),o.wheelDeltaY!==undefined&&(j=o.wheelDeltaY/120),o.wheelDeltaX!==undefined&&(k=-1*o.wheelDeltaX/120),n.unshift(a,m,k,j),(f.event.dispatch||f.event.handle).apply(this,n)}var e=["DOMMouseScroll","mousewheel"];if(f.event.fixHooks){for(var h=e.length;h;){f.event.fixHooks[e[--h]]=f.event.mouseHooks}}f.event.special.mousewheel={setup:function(){if(this.addEventListener){for(var b=e.length;
b;){this.addEventListener(e[--b],g,!1)}}else{this.onmousewheel=g}},teardown:function(){if(this.removeEventListener){for(var b=e.length;b;){this.removeEventListener(e[--b],g,!1)}}else{this.onmousewheel=null}}},f.fn.extend({mousewheel:function(b){return b?this.bind("mousewheel",b):this.trigger("mousewheel")},unmousewheel:function(b){return this.unbind("mousewheel",b)}})})(jQuery);(function(h){var e={init:function(b){var a={set_width:false,set_height:false,horizontalScroll:false,scrollInertia:950,mouseWheel:true,mouseWheelPixels:"auto",autoDraggerLength:true,autoHideScrollbar:false,alwaysShowScrollbar:false,snapAmount:null,snapOffset:0,scrollButtons:{enable:false,scrollType:"continuous",scrollSpeed:"auto",scrollAmount:40},advanced:{updateOnBrowserResize:true,updateOnContentResize:false,autoExpandHorizontalScroll:false,autoScrollOnFocus:true,normalizeMouseWheelDelta:false},contentTouchScroll:true,callbacks:{onScrollStart:function(){},onScroll:function(){},onTotalScroll:function(){},onTotalScrollBack:function(){},onTotalScrollOffset:0,onTotalScrollBackOffset:0,whileScrolling:function(){}},theme:"light"},b=h.extend(true,a,b);
return this.each(function(){var y=h(this);if(b.set_width){y.css("width",b.set_width)}if(b.set_height){y.css("height",b.set_height)}if(!h(document).data("mCustomScrollbar-index")){h(document).data("mCustomScrollbar-index","1")}else{var G=parseInt(h(document).data("mCustomScrollbar-index"));h(document).data("mCustomScrollbar-index",G+1)}y.wrapInner("<div class='mCustomScrollBox mCS-"+b.theme+"' id='mCSB_"+h(document).data("mCustomScrollbar-index")+"' style='position:relative; height:100%; overflow:hidden; max-width:100%;' />").addClass("mCustomScrollbar _mCS_"+h(document).data("mCustomScrollbar-index"));
var E=y.children(".mCustomScrollBox");if(b.horizontalScroll){E.addClass("mCSB_horizontal").wrapInner("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />");var A=E.children(".mCSB_h_wrapper");A.wrapInner("<div class='mCSB_container' style='position:absolute; left:0;' />").children(".mCSB_container").css({width:A.children().outerWidth(),position:"relative"}).unwrap()}else{E.wrapInner("<div class='mCSB_container' style='position:relative; top:0;' />")}var w=E.children(".mCSB_container");
if(h.support.touch){w.addClass("mCS_touch")}w.after("<div class='mCSB_scrollTools' style='position:absolute;'><div class='mCSB_draggerContainer'><div class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' style='position:relative;'></div></div><div class='mCSB_draggerRail'></div></div></div>");var z=E.children(".mCSB_scrollTools"),D=z.children(".mCSB_draggerContainer"),d=D.children(".mCSB_dragger");if(b.horizontalScroll){d.data("minDraggerWidth",d.width())
}else{d.data("minDraggerHeight",d.height())}if(b.scrollButtons.enable){if(b.horizontalScroll){z.prepend("<a class='mCSB_buttonLeft' oncontextmenu='return false;'></a>").append("<a class='mCSB_buttonRight' oncontextmenu='return false;'></a>")}else{z.prepend("<a class='mCSB_buttonUp' oncontextmenu='return false;'></a>").append("<a class='mCSB_buttonDown' oncontextmenu='return false;'></a>")}}E.bind("scroll",function(){if(!y.is(".mCS_disabled")){E.scrollTop(0).scrollLeft(0)}});y.data({mCS_Init:true,mCustomScrollbarIndex:h(document).data("mCustomScrollbar-index"),horizontalScroll:b.horizontalScroll,scrollInertia:b.scrollInertia,scrollEasing:"mcsEaseOut",mouseWheel:b.mouseWheel,mouseWheelPixels:b.mouseWheelPixels,autoDraggerLength:b.autoDraggerLength,autoHideScrollbar:b.autoHideScrollbar,alwaysShowScrollbar:b.alwaysShowScrollbar,snapAmount:b.snapAmount,snapOffset:b.snapOffset,scrollButtons_enable:b.scrollButtons.enable,scrollButtons_scrollType:b.scrollButtons.scrollType,scrollButtons_scrollSpeed:b.scrollButtons.scrollSpeed,scrollButtons_scrollAmount:b.scrollButtons.scrollAmount,autoExpandHorizontalScroll:b.advanced.autoExpandHorizontalScroll,autoScrollOnFocus:b.advanced.autoScrollOnFocus,normalizeMouseWheelDelta:b.advanced.normalizeMouseWheelDelta,contentTouchScroll:b.contentTouchScroll,onScrollStart_Callback:b.callbacks.onScrollStart,onScroll_Callback:b.callbacks.onScroll,onTotalScroll_Callback:b.callbacks.onTotalScroll,onTotalScrollBack_Callback:b.callbacks.onTotalScrollBack,onTotalScroll_Offset:b.callbacks.onTotalScrollOffset,onTotalScrollBack_Offset:b.callbacks.onTotalScrollBackOffset,whileScrolling_Callback:b.callbacks.whileScrolling,bindEvent_scrollbar_drag:false,bindEvent_content_touch:false,bindEvent_scrollbar_click:false,bindEvent_mousewheel:false,bindEvent_buttonsContinuous_y:false,bindEvent_buttonsContinuous_x:false,bindEvent_buttonsPixels_y:false,bindEvent_buttonsPixels_x:false,bindEvent_focusin:false,bindEvent_autoHideScrollbar:false,mCSB_buttonScrollRight:false,mCSB_buttonScrollLeft:false,mCSB_buttonScrollDown:false,mCSB_buttonScrollUp:false});
if(b.horizontalScroll){if(y.css("max-width")!=="none"){if(!b.advanced.updateOnContentResize){b.advanced.updateOnContentResize=true}}}else{if(y.css("max-height")!=="none"){var H=false,c=parseInt(y.css("max-height"));if(y.css("max-height").indexOf("%")>=0){H=c,c=y.parent().height()*H/100}y.css("overflow","hidden");E.css("max-height",c)}}y.mCustomScrollbar("update");if(b.advanced.updateOnBrowserResize){var C,B=h(window).width(),F=h(window).height();h(window).bind("resize."+y.data("mCustomScrollbarIndex"),function(){if(C){clearTimeout(C)
}C=setTimeout(function(){if(!y.is(".mCS_disabled")&&!y.is(".mCS_destroyed")){var j=h(window).width(),k=h(window).height();if(B!==j||F!==k){if(y.css("max-height")!=="none"&&H){E.css("max-height",y.parent().height()*H/100)}y.mCustomScrollbar("update");B=j;F=k}}},150)})}if(b.advanced.updateOnContentResize){var v;if(b.horizontalScroll){var x=w.outerWidth()}else{var x=w.outerHeight()}v=setInterval(function(){if(b.horizontalScroll){if(b.advanced.autoExpandHorizontalScroll){w.css({position:"absolute",width:"auto"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:w.outerWidth(),position:"relative"}).unwrap()
}var j=w.outerWidth()}else{var j=w.outerHeight()}if(j!=x){y.mCustomScrollbar("update");x=j}},300)}})},update:function(){var Q=h(this),T=Q.children(".mCustomScrollBox"),M=T.children(".mCSB_container");M.removeClass("mCS_no_scrollbar");Q.removeClass("mCS_disabled mCS_destroyed");T.scrollTop(0).scrollLeft(0);var b=T.children(".mCSB_scrollTools"),P=b.children(".mCSB_draggerContainer"),R=P.children(".mCSB_dragger");if(Q.data("horizontalScroll")){var O=b.children(".mCSB_buttonLeft"),G=b.children(".mCSB_buttonRight"),Y=T.width();
if(Q.data("autoExpandHorizontalScroll")){M.css({position:"absolute",width:"auto"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:M.outerWidth(),position:"relative"}).unwrap()}var a=M.outerWidth()}else{var d=b.children(".mCSB_buttonUp"),X=b.children(".mCSB_buttonDown"),K=T.height(),V=M.outerHeight()}if(V>K&&!Q.data("horizontalScroll")){b.css("display","block");var I=P.height();if(Q.data("autoDraggerLength")){var F=Math.round(K/V*I),S=R.data("minDraggerHeight");
if(F<=S){R.css({height:S})}else{if(F>=I-10){var N=I-10;R.css({height:N})}else{R.css({height:F})}}R.children(".mCSB_dragger_bar").css({"line-height":R.height()+"px"})}var L=R.height(),c=(V-K)/(I-L);Q.data("scrollAmount",c).mCustomScrollbar("scrolling",T,M,P,R,d,X,O,G);var H=Math.abs(M.position().top);Q.mCustomScrollbar("scrollTo",H,{scrollInertia:0,trigger:"internal"})}else{if(a>Y&&Q.data("horizontalScroll")){b.css("display","block");var W=P.width();if(Q.data("autoDraggerLength")){var U=Math.round(Y/a*W),J=R.data("minDraggerWidth");
if(U<=J){R.css({width:J})}else{if(U>=W-10){var Z=W-10;R.css({width:Z})}else{R.css({width:U})}}}var E=R.width(),c=(a-Y)/(W-E);Q.data("scrollAmount",c).mCustomScrollbar("scrolling",T,M,P,R,d,X,O,G);var H=Math.abs(M.position().left);Q.mCustomScrollbar("scrollTo",H,{scrollInertia:0,trigger:"internal"})}else{T.unbind("mousewheel focusin");if(Q.data("horizontalScroll")){R.add(M).css("left",0)}else{R.add(M).css("top",0)}if(Q.data("alwaysShowScrollbar")){if(!Q.data("horizontalScroll")){R.css({height:P.height()})
}else{if(Q.data("horizontalScroll")){R.css({width:P.width()})}}}else{b.css("display","none");M.addClass("mCS_no_scrollbar")}Q.data({bindEvent_mousewheel:false,bindEvent_focusin:false})}}},scrolling:function(Z,Q,U,X,R,ac,M,c){var W=h(this);if(!W.data("bindEvent_scrollbar_drag")){var T,S,O,a,ad;if(h.support.pointer){O="pointerdown";a="pointermove";ad="pointerup"}else{if(h.support.msPointer){O="MSPointerDown";a="MSPointerMove";ad="MSPointerUp"}}if(h.support.pointer||h.support.msPointer){X.bind(O,function(k){k.preventDefault();
W.data({on_drag:true});X.addClass("mCSB_dragger_onDrag");var l=h(this),n=l.offset(),m=k.originalEvent.pageX-n.left,j=k.originalEvent.pageY-n.top;if(m<l.width()&&m>0&&j<l.height()&&j>0){T=j;S=m}});h(document).bind(a+"."+W.data("mCustomScrollbarIndex"),function(k){k.preventDefault();if(W.data("on_drag")){var l=X,n=l.offset(),m=k.originalEvent.pageX-n.left,j=k.originalEvent.pageY-n.top;x(T,S,j,m)}}).bind(ad+"."+W.data("mCustomScrollbarIndex"),function(j){W.data({on_drag:false});X.removeClass("mCSB_dragger_onDrag")
})}else{X.bind("mousedown touchstart",function(k){k.preventDefault();k.stopImmediatePropagation();var l=h(this),n=l.offset(),m,o;if(k.type==="touchstart"){var j=k.originalEvent.touches[0]||k.originalEvent.changedTouches[0];m=j.pageX-n.left;o=j.pageY-n.top}else{W.data({on_drag:true});X.addClass("mCSB_dragger_onDrag");m=k.pageX-n.left;o=k.pageY-n.top}if(m<l.width()&&m>0&&o<l.height()&&o>0){T=o;S=m}}).bind("touchmove",function(k){k.preventDefault();k.stopImmediatePropagation();var n=k.originalEvent.touches[0]||k.originalEvent.changedTouches[0],l=h(this),o=l.offset(),m=n.pageX-o.left,j=n.pageY-o.top;
x(T,S,j,m)});h(document).bind("mousemove."+W.data("mCustomScrollbarIndex"),function(k){if(W.data("on_drag")){var l=X,n=l.offset(),m=k.pageX-n.left,j=k.pageY-n.top;x(T,S,j,m)}}).bind("mouseup."+W.data("mCustomScrollbarIndex"),function(j){W.data({on_drag:false});X.removeClass("mCSB_dragger_onDrag")})}W.data({bindEvent_scrollbar_drag:true})}function x(l,k,j,m){if(W.data("horizontalScroll")){W.mCustomScrollbar("scrollTo",(X.position().left-(k))+m,{moveDragger:true,trigger:"internal"})}else{W.mCustomScrollbar("scrollTo",(X.position().top-(l))+j,{moveDragger:true,trigger:"internal"})
}}if(h.support.touch&&W.data("contentTouchScroll")){if(!W.data("bindEvent_content_touch")){var V,K,L,J,d,I,b;Q.bind("touchstart",function(j){j.stopImmediatePropagation();V=j.originalEvent.touches[0]||j.originalEvent.changedTouches[0];K=h(this);L=K.offset();d=V.pageX-L.left;J=V.pageY-L.top;I=J;b=d});Q.bind("touchmove",function(j){j.preventDefault();j.stopImmediatePropagation();V=j.originalEvent.touches[0]||j.originalEvent.changedTouches[0];K=h(this).parent();L=K.offset();d=V.pageX-L.left;J=V.pageY-L.top;
if(W.data("horizontalScroll")){W.mCustomScrollbar("scrollTo",b-d,{trigger:"internal"})}else{W.mCustomScrollbar("scrollTo",I-J,{trigger:"internal"})}})}}if(!W.data("bindEvent_scrollbar_click")){U.bind("click",function(k){var j=(k.pageY-U.offset().top)*W.data("scrollAmount"),l=h(k.target);if(W.data("horizontalScroll")){j=(k.pageX-U.offset().left)*W.data("scrollAmount")}if(l.hasClass("mCSB_draggerContainer")||l.hasClass("mCSB_draggerRail")){W.mCustomScrollbar("scrollTo",j,{trigger:"internal",scrollEasing:"draggerRailEase"})
}});W.data({bindEvent_scrollbar_click:true})}if(W.data("mouseWheel")){if(!W.data("bindEvent_mousewheel")){Z.bind("mousewheel",function(l,p){var m,n=W.data("mouseWheelPixels"),k=Math.abs(Q.position().top),j=X.position().top,o=U.height()-X.height();if(W.data("normalizeMouseWheelDelta")){if(p<0){p=-1}else{p=1}}if(n==="auto"){n=100+Math.round(W.data("scrollAmount")/2)}if(W.data("horizontalScroll")){j=X.position().left;o=U.width()-X.width();k=Math.abs(Q.position().left)}if((p>0&&j!==0)||(p<0&&j!==o)){l.preventDefault();
l.stopImmediatePropagation()}m=k-(p*n);W.mCustomScrollbar("scrollTo",m,{trigger:"internal"})});W.data({bindEvent_mousewheel:true})}}if(W.data("scrollButtons_enable")){if(W.data("scrollButtons_scrollType")==="pixels"){if(W.data("horizontalScroll")){c.add(M).unbind("mousedown touchstart MSPointerDown pointerdown mouseup MSPointerUp pointerup mouseout MSPointerOut pointerout touchend",Y,aa);W.data({bindEvent_buttonsContinuous_x:false});if(!W.data("bindEvent_buttonsPixels_x")){c.bind("click",function(j){j.preventDefault();
N(Math.abs(Q.position().left)+W.data("scrollButtons_scrollAmount"))});M.bind("click",function(j){j.preventDefault();N(Math.abs(Q.position().left)-W.data("scrollButtons_scrollAmount"))});W.data({bindEvent_buttonsPixels_x:true})}}else{ac.add(R).unbind("mousedown touchstart MSPointerDown pointerdown mouseup MSPointerUp pointerup mouseout MSPointerOut pointerout touchend",Y,aa);W.data({bindEvent_buttonsContinuous_y:false});if(!W.data("bindEvent_buttonsPixels_y")){ac.bind("click",function(j){j.preventDefault();
N(Math.abs(Q.position().top)+W.data("scrollButtons_scrollAmount"))});R.bind("click",function(j){j.preventDefault();N(Math.abs(Q.position().top)-W.data("scrollButtons_scrollAmount"))});W.data({bindEvent_buttonsPixels_y:true})}}function N(j){if(!X.data("preventAction")){X.data("preventAction",true);W.mCustomScrollbar("scrollTo",j,{trigger:"internal"})}}}else{if(W.data("horizontalScroll")){c.add(M).unbind("click");W.data({bindEvent_buttonsPixels_x:false});if(!W.data("bindEvent_buttonsContinuous_x")){c.bind("mousedown touchstart MSPointerDown pointerdown",function(k){k.preventDefault();
var j=P();W.data({mCSB_buttonScrollRight:setInterval(function(){W.mCustomScrollbar("scrollTo",Math.abs(Q.position().left)+j,{trigger:"internal",scrollEasing:"easeOutCirc"})},17)})});var Y=function(j){j.preventDefault();clearInterval(W.data("mCSB_buttonScrollRight"))};c.bind("mouseup touchend MSPointerUp pointerup mouseout MSPointerOut pointerout",Y);M.bind("mousedown touchstart MSPointerDown pointerdown",function(k){k.preventDefault();var j=P();W.data({mCSB_buttonScrollLeft:setInterval(function(){W.mCustomScrollbar("scrollTo",Math.abs(Q.position().left)-j,{trigger:"internal",scrollEasing:"easeOutCirc"})
},17)})});var aa=function(j){j.preventDefault();clearInterval(W.data("mCSB_buttonScrollLeft"))};M.bind("mouseup touchend MSPointerUp pointerup mouseout MSPointerOut pointerout",aa);W.data({bindEvent_buttonsContinuous_x:true})}}else{ac.add(R).unbind("click");W.data({bindEvent_buttonsPixels_y:false});if(!W.data("bindEvent_buttonsContinuous_y")){ac.bind("mousedown touchstart MSPointerDown pointerdown",function(k){k.preventDefault();var j=P();W.data({mCSB_buttonScrollDown:setInterval(function(){W.mCustomScrollbar("scrollTo",Math.abs(Q.position().top)+j,{trigger:"internal",scrollEasing:"easeOutCirc"})
},17)})});var y=function(j){j.preventDefault();clearInterval(W.data("mCSB_buttonScrollDown"))};ac.bind("mouseup touchend MSPointerUp pointerup mouseout MSPointerOut pointerout",y);R.bind("mousedown touchstart MSPointerDown pointerdown",function(k){k.preventDefault();var j=P();W.data({mCSB_buttonScrollUp:setInterval(function(){W.mCustomScrollbar("scrollTo",Math.abs(Q.position().top)-j,{trigger:"internal",scrollEasing:"easeOutCirc"})},17)})});var ab=function(j){j.preventDefault();clearInterval(W.data("mCSB_buttonScrollUp"))
};R.bind("mouseup touchend MSPointerUp pointerup mouseout MSPointerOut pointerout",ab);W.data({bindEvent_buttonsContinuous_y:true})}}function P(){var j=W.data("scrollButtons_scrollSpeed");if(W.data("scrollButtons_scrollSpeed")==="auto"){j=Math.round((W.data("scrollInertia")+100)/40)}return j}}}if(W.data("autoScrollOnFocus")){if(!W.data("bindEvent_focusin")){Z.bind("focusin",function(){Z.scrollTop(0).scrollLeft(0);var j=h(document.activeElement);if(j.is("input,textarea,select,button,a[tabindex],area,object")){var k=Q.position().top,m=j.position().top,l=Z.height()-j.outerHeight();
if(W.data("horizontalScroll")){k=Q.position().left;m=j.position().left;l=Z.width()-j.outerWidth()}if(k+m<0||k+m>l){W.mCustomScrollbar("scrollTo",m,{trigger:"internal"})}}});W.data({bindEvent_focusin:true})}}if(W.data("autoHideScrollbar")&&!W.data("alwaysShowScrollbar")){if(!W.data("bindEvent_autoHideScrollbar")){Z.bind("mouseenter",function(j){Z.addClass("mCS-mouse-over");g.showScrollbar.call(Z.children(".mCSB_scrollTools"))}).bind("mouseleave touchend",function(j){Z.removeClass("mCS-mouse-over");
if(j.type==="mouseleave"){g.hideScrollbar.call(Z.children(".mCSB_scrollTools"))}});W.data({bindEvent_autoHideScrollbar:true})}}},scrollTo:function(J,I){var F=h(this),z={moveDragger:false,trigger:"external",callbacks:true,scrollInertia:F.data("scrollInertia"),scrollEasing:F.data("scrollEasing")},I=h.extend(z,I),y,H=F.children(".mCustomScrollBox"),D=H.children(".mCSB_container"),w=H.children(".mCSB_scrollTools"),E=w.children(".mCSB_draggerContainer"),G=E.children(".mCSB_dragger"),c=draggerSpeed=I.scrollInertia,x,d,B,C;
if(!D.hasClass("mCS_no_scrollbar")){F.data({mCS_trigger:I.trigger});if(F.data("mCS_Init")){I.callbacks=false}if(J||J===0){if(typeof(J)==="number"){if(I.moveDragger){y=J;if(F.data("horizontalScroll")){J=G.position().left*F.data("scrollAmount")}else{J=G.position().top*F.data("scrollAmount")}draggerSpeed=0}else{y=J/F.data("scrollAmount")}}else{if(typeof(J)==="string"){var a;if(J==="top"){a=0}else{if(J==="bottom"&&!F.data("horizontalScroll")){a=D.outerHeight()-H.height()}else{if(J==="left"){a=0}else{if(J==="right"&&F.data("horizontalScroll")){a=D.outerWidth()-H.width()
}else{if(J==="first"){a=F.find(".mCSB_container").find(":first")}else{if(J==="last"){a=F.find(".mCSB_container").find(":last")}else{a=F.find(J)}}}}}}if(a.length===1){if(F.data("horizontalScroll")){J=a.position().left}else{J=a.position().top}y=J/F.data("scrollAmount")}else{y=J=a}}}if(F.data("horizontalScroll")){if(F.data("onTotalScrollBack_Offset")){d=-F.data("onTotalScrollBack_Offset")}if(F.data("onTotalScroll_Offset")){C=H.width()-D.outerWidth()+F.data("onTotalScroll_Offset")}if(y<0){y=J=0;clearInterval(F.data("mCSB_buttonScrollLeft"));
if(!d){x=true}}else{if(y>=E.width()-G.width()){y=E.width()-G.width();J=H.width()-D.outerWidth();clearInterval(F.data("mCSB_buttonScrollRight"));if(!C){B=true}}else{J=-J}}var A=F.data("snapAmount");if(A){J=Math.round(J/A)*A-F.data("snapOffset")}g.mTweenAxis.call(this,G[0],"left",Math.round(y),draggerSpeed,I.scrollEasing);g.mTweenAxis.call(this,D[0],"left",Math.round(J),c,I.scrollEasing,{onStart:function(){if(I.callbacks&&!F.data("mCS_tweenRunning")){b("onScrollStart")}if(F.data("autoHideScrollbar")&&!F.data("alwaysShowScrollbar")){g.showScrollbar.call(w)
}},onUpdate:function(){if(I.callbacks){b("whileScrolling")}},onComplete:function(){if(I.callbacks){b("onScroll");if(x||(d&&D.position().left>=d)){b("onTotalScrollBack")}if(B||(C&&D.position().left<=C)){b("onTotalScroll")}}G.data("preventAction",false);F.data("mCS_tweenRunning",false);if(F.data("autoHideScrollbar")&&!F.data("alwaysShowScrollbar")){if(!H.hasClass("mCS-mouse-over")){g.hideScrollbar.call(w)}}}})}else{if(F.data("onTotalScrollBack_Offset")){d=-F.data("onTotalScrollBack_Offset")}if(F.data("onTotalScroll_Offset")){C=H.height()-D.outerHeight()+F.data("onTotalScroll_Offset")
}if(y<0){y=J=0;clearInterval(F.data("mCSB_buttonScrollUp"));if(!d){x=true}}else{if(y>=E.height()-G.height()){y=E.height()-G.height();J=H.height()-D.outerHeight();clearInterval(F.data("mCSB_buttonScrollDown"));if(!C){B=true}}else{J=-J}}var A=F.data("snapAmount");if(A){J=Math.round(J/A)*A-F.data("snapOffset")}g.mTweenAxis.call(this,G[0],"top",Math.round(y),draggerSpeed,I.scrollEasing);g.mTweenAxis.call(this,D[0],"top",Math.round(J),c,I.scrollEasing,{onStart:function(){if(I.callbacks&&!F.data("mCS_tweenRunning")){b("onScrollStart")
}if(F.data("autoHideScrollbar")&&!F.data("alwaysShowScrollbar")){g.showScrollbar.call(w)}},onUpdate:function(){if(I.callbacks){b("whileScrolling")}},onComplete:function(){if(I.callbacks){b("onScroll");if(x||(d&&D.position().top>=d)){b("onTotalScrollBack")}if(B||(C&&D.position().top<=C)){b("onTotalScroll")}}G.data("preventAction",false);F.data("mCS_tweenRunning",false);if(F.data("autoHideScrollbar")&&!F.data("alwaysShowScrollbar")){if(!H.hasClass("mCS-mouse-over")){g.hideScrollbar.call(w)}}}})}if(F.data("mCS_Init")){F.data({mCS_Init:false})
}}}function b(j){if(F.data("mCustomScrollbarIndex")){this.mcs={top:D.position().top,left:D.position().left,draggerTop:G.position().top,draggerLeft:G.position().left,topPct:Math.round((100*Math.abs(D.position().top))/Math.abs(D.outerHeight()-H.height())),leftPct:Math.round((100*Math.abs(D.position().left))/Math.abs(D.outerWidth()-H.width()))};switch(j){case"onScrollStart":F.data("mCS_tweenRunning",true).data("onScrollStart_Callback").call(F,this.mcs);break;case"whileScrolling":F.data("whileScrolling_Callback").call(F,this.mcs);
break;case"onScroll":F.data("onScroll_Callback").call(F,this.mcs);break;case"onTotalScrollBack":F.data("onTotalScrollBack_Callback").call(F,this.mcs);break;case"onTotalScroll":F.data("onTotalScroll_Callback").call(F,this.mcs);break}}}},stop:function(){var a=h(this),c=a.children().children(".mCSB_container"),b=a.children().children().children().children(".mCSB_dragger");g.mTweenAxisStop.call(this,c[0]);g.mTweenAxisStop.call(this,b[0])},disable:function(l){var a=h(this),k=a.children(".mCustomScrollBox"),c=k.children(".mCSB_container"),d=k.children(".mCSB_scrollTools"),b=d.children().children(".mCSB_dragger");
k.unbind("mousewheel focusin mouseenter mouseleave touchend");c.unbind("touchstart touchmove");if(l){if(a.data("horizontalScroll")){b.add(c).css("left",0)}else{b.add(c).css("top",0)}}d.css("display","none");c.addClass("mCS_no_scrollbar");a.data({bindEvent_mousewheel:false,bindEvent_focusin:false,bindEvent_content_touch:false,bindEvent_autoHideScrollbar:false}).addClass("mCS_disabled")},destroy:function(){var a=h(this);a.removeClass("mCustomScrollbar _mCS_"+a.data("mCustomScrollbarIndex")).addClass("mCS_destroyed").children().children(".mCSB_container").unwrap().children().unwrap().siblings(".mCSB_scrollTools").remove();
h(document).unbind("mousemove."+a.data("mCustomScrollbarIndex")+" mouseup."+a.data("mCustomScrollbarIndex")+" MSPointerMove."+a.data("mCustomScrollbarIndex")+" MSPointerUp."+a.data("mCustomScrollbarIndex"));h(window).unbind("resize."+a.data("mCustomScrollbarIndex"))}},g={showScrollbar:function(){this.stop().animate({opacity:1},"fast")},hideScrollbar:function(){this.stop().animate({opacity:0},"fast")},mTweenAxis:function(N,L,M,O,F,a){var a=a||{},d=a.onStart||function(){},E=a.onUpdate||function(){},c=a.onComplete||function(){};
var G=A(),I,K=0,C=N.offsetTop,B=N.style;if(L==="left"){C=N.offsetLeft}var H=M-C;D();P();function A(){if(window.performance&&window.performance.now){return window.performance.now()}else{if(window.performance&&window.performance.webkitNow){return window.performance.webkitNow()}else{if(Date.now){return Date.now()}else{return new Date().getTime()}}}}function b(){if(!K){d.call()}K=A()-G;z();if(K>=N._time){N._time=(K>N._time)?K+I-(K-N._time):K+I-1;if(N._time<K+1){N._time=K+1}}if(N._time<O){N._id=_request(b)
}else{c.call()}}function z(){if(O>0){N.currVal=J(N._time,C,H,O,F);B[L]=Math.round(N.currVal)+"px"}else{B[L]=M+"px"}E.call()}function P(){I=1000/60;N._time=K+I;_request=(!window.requestAnimationFrame)?function(j){z();return setTimeout(j,0.01)}:window.requestAnimationFrame;N._id=_request(b)}function D(){if(N._id==null){return}if(!window.requestAnimationFrame){clearTimeout(N._id)}else{window.cancelAnimationFrame(N._id)}N._id=null}function J(p,j,k,l,o){switch(o){case"linear":return k*p/l+j;break;case"easeOutQuad":p/=l;
return -k*p*(p-2)+j;break;case"easeInOutQuad":p/=l/2;if(p<1){return k/2*p*p+j}p--;return -k/2*(p*(p-2)-1)+j;break;case"easeOutCubic":p/=l;p--;return k*(p*p*p+1)+j;break;case"easeOutQuart":p/=l;p--;return -k*(p*p*p*p-1)+j;break;case"easeOutQuint":p/=l;p--;return k*(p*p*p*p*p+1)+j;break;case"easeOutCirc":p/=l;p--;return k*Math.sqrt(1-p*p)+j;break;case"easeOutSine":return k*Math.sin(p/l*(Math.PI/2))+j;break;case"easeOutExpo":return k*(-Math.pow(2,-10*p/l)+1)+j;break;case"mcsEaseOut":var m=(p/=l)*p,n=m*p;
return j+k*(0.499999999999997*n*m+-2.5*m*m+5.5*n+-6.5*m+4*p);break;case"draggerRailEase":p/=l/2;if(p<1){return k/2*p*p*p+j}p-=2;return k/2*(p*p*p+2)+j;break}}},mTweenAxisStop:function(a){if(a._id==null){return}if(!window.requestAnimationFrame){clearTimeout(a._id)}else{window.cancelAnimationFrame(a._id)}a._id=null},rafPolyfill:function(){var a=["ms","moz","webkit","o"],b=a.length;while(--b>-1&&!window.requestAnimationFrame){window.requestAnimationFrame=window[a[b]+"RequestAnimationFrame"];window.cancelAnimationFrame=window[a[b]+"CancelAnimationFrame"]||window[a[b]+"CancelRequestAnimationFrame"]
}}};g.rafPolyfill.call();h.support.touch=!!("ontouchstart" in window);h.support.pointer=window.navigator.pointerEnabled;h.support.msPointer=window.navigator.msPointerEnabled;var f=("https:"==document.location.protocol)?"https:":"http:";h.event.special.mousewheel||document.write('<script src="'+f+'//cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.0.6/jquery.mousewheel.min.js"><\/script>');h.fn.mCustomScrollbar=function(a){if(e[a]){return e[a].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof a==="object"||!a){return e.init.apply(this,arguments)
}else{h.error("Method "+a+" does not exist")}}}})(jQuery);define("toiwe",["jquery"],function(b){var a={};a.showPopup=function(f,e,g,c){var d='<div class="popbox" style="display:none;">';if(e===true){d+='<div class="overlaybox"></div>'}d+='<div class="popupbox"><span class="close"></span>';d+=f;d+="</div></div>";b("body").append(d);b(".popbox").fadeIn(500)};b("body").on("click",".popupbox .close",function(){var c=b(this).parent().parent();c.fadeOut(500,function(){c.remove()})});return a});define("ui_socialshare",["jquery","ui","event","load","toiwe"],function(e,d,b,c,a){e.fn.socialShare=function(h){var n=e(this);
var j=e.extend({},{pg_prefix:"",fontdefaultsize:100,fontchangesize:5,t_cetag:"span",icons:"fb,twitter,gplus,linkedin,pinterest,save,email,comment,print,fonti,fontd,comment-slider",enableSticky:false,c_name:e(this).selector,msid:window.msid,href:window.location.href,twt_short_url:window.location.href,twt_via:"",twt_hash:"",image:e("meta[property='og:image']").attr("content"),title:e("title:eq(0)").text()},h);if(j.enableSticky===true){b.subscribe("window.scroll",function(){var r=e(j.header);var q=e(j.footer);
var o=e(j.topholder);var p=e("."+j.element+":first");if(d.inView(o,true,0)||d.inView(r,true,0)){p.removeClass(j.c_sticky);p.removeClass(j.c_maxbottom)}else{if(d.inView(q,true,0)){p.removeClass(j.c_sticky);p.addClass(j.c_maxbottom)}else{p.removeClass(j.c_maxbottom);p.addClass(j.c_sticky)}}})}var f={};e.each(n,function(o,p){toiw_s=e(this);f.title=(toiw_s.data("title")||j.title);f.href=(toiw_s.data("href")||j.href);if(toiw_s.data("href")){f.href=(toiw_s.data("href"))}f.msid=j.msid;f.image=j.image;f.cetag=j.t_cetag;
f.ceclass=j.c_sprite;f.fontele=e("."+j.c_font);f.c_font_attr=j.c_font_attr;if(f.fontele&&f.fontele.length>0){if(j.c_font_attr&&(typeof f.fontele.attr("data-font")!="undefined")){f.fontsize=+f.fontele.attr("data-font")}else{f.fontsize=parseInt(f.fontele.css("font-size").slice(0,-2))}}else{f.fontsize=j.fontdefaultsize}if(j.c_ceclass&&j.c_ceclass!=""){f.ceclass+=" "+j.c_ceclass}f.pg=j.pgtag;f.pg_prefix=j.pg_prefix;f.twt_short_url=j.twt_short_url;f.twt_via=j.twt_via;f.twt_hash=j.twt_hash;f.op="";f.options=(toiw_s.data("icons")||j.icons);
f.options=f.options.split(",");e.each(f.options,function(q,r){f.e=e("<"+f.cetag+"/>");f.e.addClass(r);f.e.attr("data-type",r);if(f.ceclass&&f.ceclass!=""){f.e.addClass(f.ceclass)}if(f.pg&&f.pg!=""){if(r=="email"){f.e.attr("pg",f.pg_prefix+"Share#"+f.pg_prefix+r+"#"+f.pg_prefix+f.href)}else{f.e.attr("pg",f.pg_prefix+f.pg+"#"+f.pg_prefix+r+"#"+f.pg_prefix+f.href)}}if(f.href&&f.href.length>0){f.e.attr("data-url",f.href)}switch(r){case"fb":f.e.attr("data-plugin","facebook-share");break;case"twitter":f.e.attr("data-plugin","twitter-share");
if(f.twt_hash.length){f.title+=" "+f.twt_hash}f.e.attr("data-title",f.title);if(f.twt_via.length){f.e.attr("data-via",f.twt_via)}if(f.twt_short_url){f.e.attr("data-url",f.twt_short_url)}break;case"gplus":f.e.attr("data-plugin","googleplus-share");break;case"linkedin":f.e.attr("data-plugin","linkedin-share");break;case"pinterest":f.e.attr("data-plugin","pinterest-share");if(f.image&&f.image!=""){f.e.attr("data-image",f.image)}break;case"comment-slider":f.e.attr("data-plugin","show-comments");break
}toiw_s.append(f.e)})});e(j.c_name+" ."+j.c_ceclass).on("click",function(){switch(e(this).data("type")){case"save":g();break;case"email":m();break;case"comment":k();break;case"print":if(typeof j.print_url!="undefined"){var o=window.open(j.print_url,"_blank");o.focus()}else{window.print()}break;case"fonti":if(f.fontele&&f.fontele.length>0){if(f.fontsize<13){if(typeof f.c_font_attr!="undefined"&&f.c_font_attr){f.fontele.attr("data-font",++f.fontsize)}else{f.fontele.css("font-size",++f.fontsize)}if(window.localStorage){window.localStorage.setItem("article-fsize",f.fontsize)
}}}break;case"fontd":if(f.fontele&&f.fontele.length>0){if(f.fontsize>9){if(typeof f.c_font_attr!="undefined"&&f.c_font_attr){f.fontele.attr("data-font",--f.fontsize)}else{f.fontele.css("font-size",--f.fontsize)}if(window.localStorage){window.localStorage.setItem("article-fsize",f.fontsize)}}}break}});function k(){var o=e("#"+j.i_comment);e("html, body").animate({scrollTop:e(o).offset().top-110},2000)}function g(){if(require("login").getUser()){var o="http://myt.indiatimes.com/mytimes/addActivity?activityType=Saved&uniqueAppID="+j.msid+"&appKey=TOI&baseEntityType=ARTICLE&objectType=B&url="+j.href;
e.ajax(o).done(function(q){}).fail(function(){}).always(function(){});var p='<div class="savebox"><span class="favstatus">Page saved successfully!</span><br/>To view your Saved Pages, <a target="_blank" href="/mypage.cms">Go to My Times</a></div>';a.showPopup(p,true,450,350)}else{require("login").login()}}function m(){var o='<iframe title="Email" align="left" scrolling="no" frameborder="0" vspace="0" hspace="0" marginheight="0" marginwidth="0" height="300" width="570" id="emailiframe" name="emailiframe" src="/toiwidgets_email/'+j.msid+'.cms"></iframe>';
var q=d.popup(o,{width:"570px",height:"270px"})}function l(){var o='<iframe title="Email" align="left" scrolling="no" frameborder="0" vspace="0" hspace="0" marginheight="0" marginwidth="0" height="300" width="570" id="emailiframe" name="emailiframe" src="/toiwidgets_email/'+j.msid+'.cms"></iframe>';a.showPopup(o,true,570,250)}}});define("ui_selectshare",["jquery","page","user","login","times/comments","galogger"],function(d,c,b,a,f,e){d.fn.selectShare=function(g){var h=d(this);var j=d.extend({pos:"right",shareBoxWidth:0,minusOffsetTop:0,shareBoxMargin:0,shortUrl:window.location.href,via:"timesofindia",hash:""},g);
this.mouseup(function(k){k=k||window.event;setTimeout(function(){if(d(k.target).closest(".topcomment").length||d(k.target).closest(".slideshowcontainer").length){return false}var m=null;if(window.getSelection){m=window.getSelection().toString()}else{if(document.selection&&document.selection.type!="Control"){m=document.selection.createRange().text}}m=m.replace(/^\s+|\s+$/gm,"");if(m!==""&&m!=null){window.sharetext=m;e.analyticsFire("InlineSelectedShare",m.length,window.location.href);var l=k.pageY-parseInt(h.offset().top)-j.minusOffsetTop;
var n=parseInt(k.offsetX)-j.minusOffsetTop;if(j.pos==="left"){n=parseInt(h.offset().left-(j.shareBoxWidth))}else{n=parseInt(k.offsetX)-j.shareBoxWidth}d('[data-type="inlineShare"]').remove();h.append("<div id='shareInline' data-type='inlineShare' style='top:"+l+"px; left:"+n+"px;'><span data-url='"+j.shortUrl+" via @"+j.via+"' class='twitter article-sprite ishare' data-type='twitter'><span class='inner'>Share to Twitter</span></span></div>");d(".ishare").on("mousedown",function(){var r=d(this);if(r.data("type")==="twitter"){e.analyticsFire("InlineSelectedShare","Twitter",window.location.href)
}else{if(r.data("type")==="fb"){e.analyticsFire("InlineSelectedShare","FB",window.location.href)}}if(a.getUser()){var q=new f({share_url:"/share.cms"});if(r.data("type")==="twitter"){var p=window.sharetext,o=140;p=p.substring(0,o);window.facebooklink=r.data("url");if(j.hash.length){p+=" "+j.hash}q.postToSocial(p,"twitter")}else{if(r.data("type")==="fb"){q.postToSocial(window.sharetext,"facebook")}}d('[data-type="inlineShare"]').remove()}else{a.login()}})}else{d('[data-type="inlineShare"]').remove()
}},10)});return this}});define("ui_inlineshare",["jquery","page","user","times/comments","login"],function(d,c,b,e,a){d.fn.inlineShare=function(f){return this.each(function(){var g=d(this);var h=d.extend({pg_prefix:"",href:window.location.href},f);if(h.classis==""){h.classis="inlineshare"}g.preop="";g.icons=h.icons.split(",");d.each(g.icons,function(j,k){switch(k){case"twitter":g.preop+="<span pg='"+h.pg_prefix+"InlineShare#"+h.pg_prefix+"Twitter#"+h.pg_prefix+h.href+"' class='"+h.classtw+"' data-inlineshare='tw'></span>";
break}});g.instances=g.find("."+h.classis);d.each(g.instances,function(j,k){g.temptext="<span class='"+h.classoriginal+"'>"+d(k).html()+"</span>";d(k).html(g.temptext);if(h.iconposition==="after"){d(k).append(g.preop)}else{d(k).prepend(g.preop)}});g.find("."+h.classis).click(function(j){if(typeof h.enableclick!=="undefined"&&h.enableclick===true){}else{j.preventDefault()}});g.find("."+h.classis+" [data-inlineshare]").click(function(m){if(a.getUser()){var l=d(this);window.sharetext=d(this).parent().text();
var p=l.parent("."+h.classis);if(h.shorturl){if(h.shorturl.length>0){window.facebooklink=h.shorturl}}else{if(p.data("isq")||p.data("ishash")||p.data("ispath")){window.facebooklink=document.location.origin;if(p.data("ispath")){window.facebooklink+=p.data("ispath")}else{window.facebooklink+=document.location.pathname}}}if(p.data("isq")){if(p.data("isq").length>0){window.facebooklink+="?"+p.data("isq")}}else{if(document.location.search){window.facebooklink+=document.location.search}}if(p.data("ishash")){window.facebooklink+="#"+p.data("ishash")
}l.type=l.data("inlineshare");var o=new e({share_url:"/share.cms"});if(l.type==="tw"){var k=window.sharetext;var j=140;var n=false;if(h.twitterat.length>0){if(k.length>=125){j=140-(h.twitterat.length+5);n=true}else{j=140-(h.twitterat.length+2)}}else{if(k.length>=125){j=140-3;n=true}}k=k.substring(0,j);if(n===true){k+="..."}if(h.twitterat.length>0){k+=" @"+h.twitterat}o.postToSocial(k,"twitter")}else{if(l.type==="fb"){o.postToSocial(window.sharetext,"facebook")}}}else{a.login()}m.preventDefault()})
})}});define("ui_copywidth",["jquery"],function(b){function a(){var c=b("[data-copywidth-from]");b(c).each(function(f,e){var h=b(this).data("copywidth-from");var g=b(this).css("width");var d=b("[data-copywidth-to='"+h+"']");b(d).each(function(k,j){b(this).css("width",g)})})}a();b("[data-copywidth-from]").resize(function(){a()});b(window).resize(function(){a()})});define("ui_dynwidth",["jquery"],function(c){function b(){var d=c("[data-plugin='dynwidth']");c(d).each(function(g,f){var e=a(this);c(this).css("width",e)
})}function a(e){var d={};d.box=c(e);d.childs=d.box.children();d.noofchild=d.childs.length;d.child=d.childs.first();d.childwidth=d.child.outerWidth(true);d.totalwidth=d.noofchild*d.childwidth;return d.totalwidth}b();c("[data-plugin='dynwidth']").resize(function(){b()});c(window).resize(function(){b()})});define("ui_toislider",["jquery","util","is","logger","event","galogger"],function(e,a,d,b,c,f){e.fn.toislider=function(g){return this.each(function(){if(typeof(this._init)==="boolean"&&this._init===true){return this
}this._init=true;var h=e.extend({},{d_slides:"",d_nextbtn:"",d_prevbtn:"",d_current:"",d_total:"",d_slide_active:"",d_dots_container:false,d_dots_active:"",d_slideid:"",btnclass:"",events:false,master:true,startAt:1,slideAutoCal:true,slideTime:400,syncTo:[],scrollbar:false,resize:false,slideTimer:false,slideTimerTill:"",slideTimerTime:5000},g);var j=this;j.container=e(this);j.sliderid=e(j).data("sliderid");j.slides=j.container.find("[data-slider='"+h.d_slides+"']");j.slide=j.slides.children();j.slideWidthCal=function(){var k=parseInt(j.container.outerWidth()/j.slide.outerWidth());
if(k<1){k=1}j.slideAtOnce=k;j.slidesInView=k};if(h.slideAutoCal===true){j.slideWidthCal()}if(h.slideAtOnce){j.slideAtOnce=parseInt(h.slideAtOnce)}if(h.slidesInView){j.slidesInView=parseInt(h.slidesInView)}j.e_currentSlide=j.container.find("[data-slider='"+h.d_current+"']");j.e_totalSlide=j.container.find("[data-slider='"+h.d_total+"']");j.e_dots_container=j.container.find("[data-slider='"+h.d_dots_container+"']");j.nextbtn=j.container.find("[data-slider='"+h.d_nextbtn+"']");j.prevbtn=j.container.find("[data-slider='"+h.d_prevbtn+"']");
j.currentSlide=parseInt(h.startAt);j.totalSlide=j.slide.length;if(!d.empty(j.e_dots_container)){j.dothtml="";j.totalDot=Math.ceil(j.totalSlide/j.slidesInView);for(i=0;i<j.totalDot;i++){j.dothtml+="<li data-dotno='"+i+"'></li>"}j.e_dots_container.append(j.dothtml)}if(h.resize===true){e(window).resize(function(){clearTimeout(j.resizetimeout);j.resizetimeout=setTimeout(function(){if(h.slideAutoCal===true){j.slideWidthCal()}j.slideTo(j.currentSlide,"resize")},500)})}if(h.slideTimer===true){e(function(){j.si=setInterval(function(){if(j.currentSlide==j.totalSlide||(typeof h.slideTimerTill==="number"&&j.currentSlide===parseInt(h.slideTimerTill))){j.slideTo(parseInt(h.startAt),"slidetimer")
}else{j.slideNext("slidetimer")}},parseInt(h.slideTimerTime))})}j.clearSlideTimer=function(){clearInterval(j.si)};j.updateUI=function(k){if(j.slidesInView>1&&k.indexOf("next")=="-1"&&k.indexOf("prev")=="-1"){if(!d.empty(h.d_slide_active)){j.slides.find("."+h.d_slide_active).removeClass(h.d_slide_active);j.slides.find(":nth-child("+j.currentSlide+")").addClass(h.d_slide_active)}}if(!d.empty(j.e_currentSlide)){j.e_currentSlide.text(j.currentSlide)}if(!d.empty(j.e_totalSlide)){j.e_totalSlide.text(j.totalSlide)
}if(!d.empty(j.e_dots_container)){j.e_dots_container.find("."+h.d_dots_active).removeClass(h.d_dots_active);if(j.currentSlide<=j.totalSlide-j.slidesInView){j.currentDot=Math.ceil(j.currentSlide/j.slidesInView)-1}else{j.currentDot=Math.ceil(j.totalSlide/j.slidesInView)-1}j.e_dots_container.find(":eq("+j.currentDot+")").addClass(h.d_dots_active)}j.nextbtn.removeClass(h.btnclass);j.prevbtn.removeClass(h.btnclass);if(parseInt(j.currentSlide)<=parseInt(j.slidesInView)){j.prevbtn.addClass(h.btnclass)}if(parseInt(j.currentSlide)>parseInt(j.totalSlide)-parseInt(j.slidesInView)){j.nextbtn.addClass(h.btnclass)
}};if(h.events){c.subscribe("slider.slideto",function(k){if(parseInt(k.sliderid)===parseInt(j.sliderid)){if(d.number(parseInt(k.val))){j.slideTo(k.val,"event_no")}else{if(d.string(k.val)){if(k.val==="next"){j.slideNext("event_")}else{if(k.val==="previous"){j.slidePrev("event_")}}}else{b.log("Invalid Slider Event:");b.log(k)}}}})}j.slideTo=function(q,p){if(q>0&&q<=j.totalSlide){var n=j.slide.outerWidth(true);var m=j.totalSlide-j.slidesInView;var k=q;var l=Math.ceil(k/j.slidesInView);var o=((n*j.slideAtOnce)*(l-1));
if(q>m){k=m+1;o=((n)*(k-1))}j.slides.animate({marginLeft:"-"+o+"px"});j.currentSlide=q;j.updateUI(p);if(h.events){j.sliderobj={no:q,sliderid:j.sliderid,slideid:e(j.slide[q-1]).data("slideid"),source:p,master:h.master};c.publish("slider.slided",j.sliderobj)}if(!d.empty(h.syncTo)){e(h.syncTo).each(function(t,s){var r=e(j).data("sliderid");var u=e(j).data("sliderprefix");if(u&&u!=""){e(s).each(function(w,y){var v=e(y).data("sliderid");var x=e(y).data("sliderprefix");if(r===v&&u===x){e(y).toislider()[0].slideTo(q,"sync")
}})}else{e(s).each(function(w,x){var v=e(x).data("sliderid");if(r===v){e(x).toislider()[0].slideTo(q,"sync")}})}})}}else{b.log("Invalid Slide Number")}};j.slideNext=function(l){var m=parseInt(j.currentSlide)+parseInt(j.slideAtOnce);var k=parseInt(j.totalSlide)-parseInt(j.slidesInView);if(m>k){j.slideTo(k+1,l+"next")}else{j.slideTo(m,l+"next")}};j.slidePrev=function(k){var l;l=parseInt(j.currentSlide)-parseInt(j.slideAtOnce);if(l<1){j.slideTo(1,k+"prev")}else{j.slideTo(l,k+"prev")}};j.updateUI("default");
j.throttledslide=a.throttle(h.slideTime,function(k,l){if(k==="next"){j.slideNext()}else{if(k==="prev"){j.slidePrev()}else{if(k==="to"){j.slideTo(l,"main")}else{b.log("Invalid throttledslide value!")}}}});j.container.on("click","[data-slider]",function(){var k=e(this).data("slider");if(k===h.d_nextbtn){j.throttledslide("next");j.clearSlideTimer();f.analyticsFire("InlineMedia","Slideshow","Next-"+window.location.href)}else{if(k===h.d_prevbtn){j.throttledslide("prev");j.clearSlideTimer();f.analyticsFire("InlineMedia","Slideshow","Prev-"+window.location.href)
}}});j.e_dots_container.on("click","*",function(){var l=parseInt(e(this).data("dotno"));var k=(l*j.slidesInView)+1;if(k>j.totalSlide){k=j.totalSlide}else{if(k<1){k=1}}j.throttledslide("to",k)})})};return e});define("slideshow",["jquery","util","is","logger","ui_toislider","event","ui_copywidth","ui_dynwidth"],function(c,f,e,j,b,a,h,g){function d(l,m,k){if(l==="id"){}else{}}c.fn.slideShow=function(k){return this.each(function(){var n=c(this);var o=c.extend({},k);n.ms=c.extend({},{defaultCaption:false},k.ms);
n.ss=c.extend({},k.ss);n.master=n.find("[data-slideshow='master']");n.slaves=n.find("[data-slideshow='slave']");n.master.toislider(n.ms);n.slaves.toislider(n.ss);n.masterid=n.master.data("sliderid");n.find(".infobox h4").attr("data-slideshow","infotoggle");if(n.ms.defaultCaption){n.attr("data-stateinfo","true")}else{n.attr("data-stateinfo","false");n.find("[data-slideshow='slidecaption']").mCustomScrollbar({theme:"light-thick",scrollButtons:{enable:false},mouseWheel:{enable:true,scrollAmount:52}});
n.find("[data-slideshow='slidecaption']").hide()}var m=n.find("h3");for(i=0;i<m.length;i++){var l=c(m[i]).text();c(m[i]).html("<span>"+l+"</span>")}n.find("[data-slideshow='infotoggle']").on("click",function(){if(n.attr("data-stateinfo")!="false"){n.find(".infobox").css("height","38px;");n.attr("data-stateinfo","false");n.find("[data-slideshow='slidecaption']").slideUp()}else{n.find(".infobox").css("height","auto");n.attr("data-stateinfo","true");n.find("[data-slideshow='slidecaption']").slideDown()
}});a.subscribe("slider.slided",function(q){if(q.source!=="sync"&&q.sliderid===n.masterid&&q.master){window.history.replaceState({},c("title").text(),window.location.pathname+"?slideshow="+q.sliderid+"&slide="+q.slideid+"#"+q.no)}});function p(v){var w=v.data("msid");var r=parseInt(v.find(".pagination .slideno").text());var s=v.find(".slideshow-box .slides .slide:nth-child("+r+")").data("slideid");var u=c("title").text();var q=window.location.pathname+"?slideshow="+w+"&slide="+s+"#"+r;window.history.replaceState({},u,q);
ga("send",{hitType:"pageview",page:q,title:u})}})}});(function(a){a.fn.ticker=function(c){var e=a.extend({},a.fn.ticker.defaults,c);if(a(this).length==0){if(window.console&&window.console.log){window.console.log("Element does not exist in DOM!")}else{alert("Element does not exist in DOM!")}return false}var b="#"+a(this).attr("id");var d=a(this).get(0).tagName;return this.each(function(){var g=p();var j={position:0,time:0,distance:0,newsArr:{},play:true,paused:false,contentLoaded:false,dom:{contentID:"#ticker-content-"+g,titleID:"#ticker-title-"+g,titleElem:"#ticker-title-"+g+" SPAN",tickerID:"#ticker-"+g,wrapperID:"#ticker-wrapper-"+g,revealID:"#ticker-swipe-"+g,revealElem:"#ticker-swipe-"+g+" SPAN",controlsID:"#ticker-controls-"+g,prevID:"#prev-"+g,nextID:"#next-"+g,playPauseID:"#play-pause-"+g}};
if(d!="UL"&&d!="OL"&&e.htmlFeed===true){r("Cannot use <"+d.toLowerCase()+"> type of element for this plugin - must of type <ul> or <ol>");return false}e.direction=="rtl"?e.direction="right":e.direction="left";f();function m(v){var u=0,t;for(t in v){if(v.hasOwnProperty(t)){u++}}return u}function p(){var t=new Date;return t.getTime()}function r(t){if(e.debugMode){if(window.console&&window.console.log){window.console.log(t)}else{alert(t)}}}function f(){n();a(b).wrap('<div id="'+j.dom.wrapperID.replace("#","")+'"></div>');
a(j.dom.wrapperID).children().remove();a(j.dom.wrapperID).append('<div id="'+j.dom.tickerID.replace("#","")+'" class="ticker"><div id="'+j.dom.titleID.replace("#","")+'" class="ticker-title"><span><!-- --></span></div><p class="ticker-content"> <span id="'+j.dom.contentID.replace("#","")+'" ></span></p><div id="'+j.dom.revealID.replace("#","")+'" class="ticker-swipe"><span><!-- --></span></div></div>');a(j.dom.wrapperID).removeClass("no-js").addClass("ticker-wrapper has-js "+e.direction);a(j.dom.tickerElem+","+j.dom.contentID).hide();
if(e.controls){a(j.dom.controlsID).live("click mouseover mousedown mouseout mouseup",function(u){var t=u.target.id;if(u.type=="click"){switch(t){case j.dom.prevID.replace("#",""):j.paused=true;a(j.dom.playPauseID).addClass("paused");o("prev");break;case j.dom.nextID.replace("#",""):j.paused=true;a(j.dom.playPauseID).addClass("paused");o("next");break;case j.dom.playPauseID.replace("#",""):if(j.play==true){j.paused=true;a(j.dom.playPauseID).addClass("paused");k()}else{j.paused=false;a(j.dom.playPauseID).removeClass("paused");
q()}break}}else{if(u.type=="mouseover"&&a("#"+t).hasClass("controls")){a("#"+t).addClass("over")}else{if(u.type=="mousedown"&&a("#"+t).hasClass("controls")){a("#"+t).addClass("down")}else{if(u.type=="mouseup"&&a("#"+t).hasClass("controls")){a("#"+t).removeClass("down")}else{if(u.type=="mouseout"&&a("#"+t).hasClass("controls")){a("#"+t).removeClass("over")}}}}}});a(j.dom.wrapperID).append('<ul id="'+j.dom.controlsID.replace("#","")+'" class="ticker-controls"><li id="'+j.dom.prevID.replace("#","")+'" class="jnt-prev controls"><a href=""><!-- --></a></li><li id="'+j.dom.playPauseID.replace("#","")+'" class="jnt-play-pause controls"><a href=""><!-- --></a></li><li id="'+j.dom.nextID.replace("#","")+'" class="jnt-next controls"><a href=""><!-- --></a></li></ul>')
}if(e.displayType!="fade"){}if(!e.ajaxFeed){s()}}function n(){if(j.contentLoaded==false){if(e.ajaxFeed){if(e.feedType=="xml"){a.ajax({url:e.feedUrl,cache:false,dataType:e.feedType,async:true,success:function(z){count=0;for(var u=0;u<z.childNodes.length;u++){if(z.childNodes[u].nodeName=="rss"){xmlContent=z.childNodes[u]}}for(var v=0;v<xmlContent.childNodes.length;v++){if(xmlContent.childNodes[v].nodeName=="channel"){xmlChannel=xmlContent.childNodes[v]}}for(var t=0;t<xmlChannel.childNodes.length;t++){if(xmlChannel.childNodes[t].nodeName=="item"){xmlItems=xmlChannel.childNodes[t];
var A,w=false;for(var B=0;B<xmlItems.childNodes.length;B++){if(xmlItems.childNodes[B].nodeName=="title"){A=xmlItems.childNodes[B].lastChild.nodeValue}else{if(xmlItems.childNodes[B].nodeName=="link"){w=xmlItems.childNodes[B].lastChild.nodeValue}}if((A!==false&&A!="")&&w!==false){j.newsArr["item-"+count]={type:e.titleText,content:'<a href="'+w+'">'+A+"</a>"};count++;A=false;w=false}}}}if(m(j.newsArr<1)){r("Couldn't find any content from the XML feed for the ticker to use!");return false}j.contentLoaded=true;
s()}})}else{r("Code Me!")}}else{if(e.htmlFeed){if(a(b+" LI").length>0){a(b+" LI").each(function(t){j.newsArr["item-"+t]={type:e.titleText,content:a(this).html()}})}else{r("Couldn't find HTML any content for the ticker to use!");return false}}else{r("The ticker is set to not use any types of content! Check the settings for the ticker.");return false}}}}function s(){j.contentLoaded=true;j.nextnewslock=0;a(j.dom.titleElem).html(j.newsArr["item-"+j.position].type);a(j.dom.contentID).html(j.newsArr["item-"+j.position].content);
var w=j.newsArr["item-"+j.position].content;a(".ticker-content").css("margin-left","0px");a(".ticker-content span").css("margin-left","0px");var t=90;var u=window.innerWidth;if(u>=768&&u<=999){t=40}var v=1;if((w.length>t)&&v==1){j.nextnewslock=1;var x=(navigator.userAgent.match(/(iPad)/g)?true:false);if(x){timer=3000}else{timer=6500}shift=0;setTimeout(function(){mycount=function(z,A){var B=window.innerWidth;if(B>=768&&B<=999){A+=8.5}else{A+=11.5}z++;if((w.length-t)>=z){A=mycount(z++,A)}return A};
var y=mycount(1,0);if(j.nextnewslock==1){a(".ticker-content span").css("margin-left","").delay(1).animate({marginLeft:"-"+y+"px"},((w.length-t)*310),"linear",function(){try{if(homeObj.breakingNewsPause==1){a(".ticker-content span").css("margin-left","0px")}}catch(z){console.log(z)}})}},timer)}if(j.position==(m(j.newsArr)-1)){j.position=0}else{j.position++}distance=a(j.dom.contentID).width();time=distance/e.speed;h()}function h(){a(j.dom.contentID).css("opacity","1");if(j.play){var t=a(j.dom.titleID).width()+20;
a(j.dom.revealID).css(e.direction,t+"px");if(e.displayType=="fade"){("reveal content if");a(j.dom.revealID).hide(0,function(){a(j.dom.contentID).css(e.direction,t+"px").fadeIn(e.fadeInSpeed,l)})}else{if(e.displayType=="scroll"){}else{a(j.dom.revealElem).show(0,function(){a(j.dom.contentID).css(e.direction,t+"px").show();animationAction=e.direction=="right"?{marginRight:distance+"px"}:{marginLeft:distance+"px"};a(j.dom.revealID).css("margin-"+e.direction,"0px").delay(20).animate(animationAction,time,"linear",l)
})}}}else{return false}}function l(){if(j.play){a(j.dom.contentID).delay(2500).fadeOut(e.fadeOutSpeed);if(e.displayType=="fade"){a(j.dom.contentID).fadeOut(e.fadeOutSpeed,function(){a(j.dom.wrapperID).find(j.dom.revealElem+","+j.dom.contentID).hide().end().find(j.dom.tickerID+","+j.dom.revealID).show().end().find(j.dom.tickerID+","+j.dom.revealID).removeAttr("style");s()})}else{a(j.dom.revealID).hide(0,function(){a(j.dom.contentID).fadeOut(e.fadeOutSpeed,function(){a(j.dom.wrapperID).find(j.dom.revealElem+","+j.dom.contentID).hide().end().find(j.dom.tickerID+","+j.dom.revealID).show().end().find(j.dom.tickerID+","+j.dom.revealID).removeAttr("style");
s()})})}}else{a(j.dom.revealElem).hide()}}function k(){homeObj.breakingNewsPause=1;j.play=false;a(j.dom.tickerID+","+j.dom.revealID+","+j.dom.titleID+","+j.dom.titleElem+","+j.dom.revealElem+","+j.dom.contentID).stop(true,true);a(j.dom.revealID+","+j.dom.revealElem).hide();a(j.dom.wrapperID).find(j.dom.titleID+","+j.dom.titleElem).show().end().find(j.dom.contentID).show()}function q(){j.nextnewslock=0;j.play=true;j.paused=false;homeObj.breakingNewsPause=0;l()}function o(t){k();homeObj.breakingNewsPause=1;
a(".ticker-content span").css("margin-left","0px");switch(t){case"prev":if(j.position==0){j.position=m(j.newsArr)-2}else{if(j.position==1){j.position=m(j.newsArr)-1}else{j.position=j.position-2}}a(j.dom.titleElem).html(j.newsArr["item-"+j.position].type);a(j.dom.contentID).html(j.newsArr["item-"+j.position].content);break;case"next":a(j.dom.titleElem).html(j.newsArr["item-"+j.position].type);a(j.dom.contentID).html(j.newsArr["item-"+j.position].content);break}if(j.position==(m(j.newsArr)-1)){j.position=0
}else{j.position++}}})};a.fn.ticker.defaults={speed:0.1,ajaxFeed:false,feedUrl:"",feedType:"xml",displayType:"reveal",htmlFeed:true,debugMode:true,controls:true,titleText:"Breaking News",direction:"ltr",pauseOnItems:3000,fadeInSpeed:600,fadeOutSpeed:300}})(jQuery);define("galogger",[],function(){var a={};a.analyticsFire=function(c,e,b){var d="AS1_";c=d+c;e=d+e;b=d+b;if(window.ga){ga("send","event",c,e,b,{nonInteraction:1})}else{setTimeout(function(){ga("send","event",c,e,b,{nonInteraction:1})},5000)
}return true};return a});define("nicvideo",["jquery","tiljs/logger","tiljs/is","ui_toislider","tiljs/cookie","tiljs/plugin/lazy","galogger"],function(g,b,f,a,e,d,h){var c=function(){g(".nic_container").on("click",".articlevideo .preloader",function(){var s=g(this).parent().parent();var r=s.data("msid");var q=s.data("position");var p=null;if(q==="abovearticle"){p=true;h.analyticsFire("InlineMedia","Video","lead-video/"+window.location.href)}else{p=false;h.analyticsFire("InlineMedia","Video","inline-video/"+window.location.href)
}o(s,r,"cover",p)});var n={d_slides:"slides",d_nextbtn:"next",d_prevbtn:"prev",d_current:"current",d_total:"total",btnclass:"hideit",startAt:1,slidesInView:3,slideAtOnce:3,slideTime:400,scrollbar:false};g(".nic_container  .related-videos").toislider(n);g(".nic_container  .articlevideo").on("click",".slide",function(){var q=g(this).data("msid");var p=g(this).closest(".articlevideo");o(p,q,"related",true);h.analyticsFire("InlineMedia","Video","related-video/"+window.location.href)});function m(q,s){var p=q.find(".related-videos .playing");
var r=p.next();if(r.length==0){r=q.find(".related-videos .slide:first")}if(s==="msid"){return r.data("msid")}else{if(s==="title"){return r.find(".caption").text()}else{return false}}}function j(){var q=null;var p=Get_Ckie_str("auto_off");if(f.empty(p)){q="off"}else{if(p=="true"){q="on"}else{q="off"}}return q}function o(z,y,p,A){var x=z.find(".preloader");var u=z.data("position");z.addClass("loadingvid");var B=false;var t=null;var C=null;var v=z.closest(".niccontent").data("nic_msid");if(typeof window._dash!=="undefined"&&typeof window._dash.pauseAllExceptCurrent=="function"){window._dash.pauseAllExceptCurrent(y)
}try{if(new ActiveXObject("ShockwaveFlash.ShockwaveFlash")){B=true}}catch(w){if(navigator.mimeTypes["application/x-shockwave-flash"]!=undefined){B=true}}var q=null;var s=j();t=y;C="";q="/article_video_dash.cms?msid="+y+"&source=articleshow/nic&stxt=on&hpauto=0&articlemsid="+v+"&version=17";if(B){q+="&playertype=flash"}else{q+="&playertype=html5"}var r=z.find(".toppart");g.ajax(q).done(function(D){z.addClass("playingvid");r.find(".vidbox").remove();r.append("<div class='vidbox' style='display:none;'><span class='close'></span><div class='dvideo' id='"+y+"'>"+D+"</div></div>")
}).fail(function(){z.removeClass("loadingvid");r.find(".vidbox").remove();r.append("<div class='vidbox' style='display:none;'><span class='msg error'>Error occured while loading video!<br/>Close this box and try again.</span></div>")}).always(function(){x.fadeOut("2000",function(){z.find(".vidbox").fadeIn("1000",function(){z.removeClass("loadingvid")})})})}function l(q,p){q.find(".slide").removeClass("playing");q.find(".slide[data-msid='"+p+"']").addClass("playing")}function k(q,p){q.find(".related-videos").slideDown("1000",function(){d.load()
})}g(".nic_container").on("click",".articlevideo .close",function(){var t=g(this).parent().parent().parent();var s=t.data("msid");var r=t.find(".preloader");var q=t.find(".vidbox");var p=t.find(".related-videos");t.removeClass("playingvid");r.fadeIn("500");q.fadeOut("500",function(){q.remove()});p.slideUp("500",function(){})})};return c});define("articlevideo",["jquery","tiljs/logger","tiljs/is","ui_toislider","tiljs/cookie","tiljs/plugin/lazy","galogger"],function(g,b,f,a,e,d,h){var c=function(n){g(".articlepage[data-articlemsid='"+n+"'] .articlevideo").on("click",".preloader",function(){var t=g(this).parent().parent();
var s=t.data("msid");var r=t.data("position");var q=null;if(r==="abovearticle"){q=true;h.analyticsFire("InlineMedia","Video","lead-video/"+window.location.href)}else{q=false;h.analyticsFire("InlineMedia","Video","inline-video/"+window.location.href)}p(t,s,"cover",q)});var o={d_slides:"slides",d_nextbtn:"next",d_prevbtn:"prev",d_current:"current",d_total:"total",btnclass:"hideit",startAt:1,slidesInView:3,slideAtOnce:3,slideTime:400,scrollbar:false};g(".articlepage[data-articlemsid='"+n+"']  .related-videos").toislider(o);
g(".articlepage[data-articlemsid='"+n+"']  .articlevideo").on("click",".slide",function(){var r=g(this).data("msid");var q=g(this).closest(".articlevideo");p(q,r,"related",true);h.analyticsFire("InlineMedia","Video","related-video/"+window.location.href)});function m(r,t){var q=r.find(".related-videos .playing");var s=q.next();if(s.length==0){s=r.find(".related-videos .slide:first")}if(t==="msid"){return s.data("msid")}else{if(t==="title"){return s.find(".caption").text()}else{return false}}}window.invokeVideo=function(q){if(q.source==="abovearticle"){var r=g(".articlepage[data-articlemsid='"+q.articlemsid+"'] .articlevideo[data-position='abovearticle']");
p(r,q.nextid,"relautonext",true)}};window._dash=window._dash||{};_dash.pauseAllExceptCurrent=function(q){g(".dashvideoframe").each(function(){if(g(this).closest("[data-articlemsid]").attr("data-articlemsid")!=window.msid){if(!q||!g(this).data("videomsid")||q!=g(this).data("videomsid")){this.contentWindow.vplayer.pauseVideo()}}})};window._dash.userAction=function(r,q){if(r=="playing"){_dash.pauseAllExceptCurrent(q)}};function j(){var r=null;var q=Get_Ckie_str("auto_off");if(f.empty(q)){r="off"}else{if(q=="true"){r="on"
}else{r="off"}}return r}window.switchOffAutoPlay=function(q){if(q=="on"){Set_Ckie_str("auto_off","false",365,"/","","");ga("send","event","Art_show_Video","click","Autoplay_"+q)}else{Set_Ckie_str("auto_off","true",365,"/","","");if(q=="off"){ga("send","event","Art_show_Video","click","Autoplay_"+q)}}};function p(A,z,q,C){var y=A.find(".preloader");var v=A.data("position");A.addClass("loadingvid");var D=false;var u=null;var E=null;var w=A.closest(".articlepage").attr("data-articlemsid");if(typeof window._dash!=="undefined"&&typeof window._dash.pauseAllExceptCurrent=="function"){window._dash.pauseAllExceptCurrent(z)
}if(C===true){l(A,z)}try{if(new ActiveXObject("ShockwaveFlash.ShockwaveFlash")){D=true}}catch(x){if(navigator.mimeTypes["application/x-shockwave-flash"]!=undefined){D=true}}var r=null;var t=j();if(C===true){u=m(A,"msid");E=m(A,"title");if(q.length>0&&q.toLowerCase()=="related"){var B="articleshow/related"}else{var B="abovearticle"}r="/article_video_dash.cms?msid="+z+"&source="+B+"&stxt="+t+"&hpauto=1&nextid="+u+"&nexttitle="+E+"&articlemsid="+w+"&version=16"}else{u=z;E="";r="/article_video_dash.cms?msid="+z+"&source=articleembed&stxt=on&hpauto=0&articlemsid="+w+"&version=16"
}if(D){r+="&playertype=flash"}else{r+="&playertype=html5"}var s=A.find(".toppart");g.ajax(r).done(function(F){A.addClass("playingvid");s.find(".vidbox").remove();s.append("<div class='vidbox' style='display:none;'><span class='close'></span><div class='dvideo' id='"+z+"'>"+F+"</div></div>");if(v==="abovearticle"&&q!=="related"&&C===true){k(A,z)}}).fail(function(){A.removeClass("loadingvid");s.find(".vidbox").remove();s.append("<div class='vidbox' style='display:none;'><span class='msg error'>Error occured while loading video!<br/>Close this box and try again.</span></div>")
}).always(function(){y.fadeOut("2000",function(){A.find(".vidbox").fadeIn("1000",function(){A.removeClass("loadingvid")})})})}function l(r,q){r.find(".slide").removeClass("playing");r.find(".slide[data-msid='"+q+"']").addClass("playing")}function k(r,q){r.find(".related-videos").slideDown("1000",function(){d.load()})}g(".articlepage[data-articlemsid='"+n+"']  .articlevideo").on("click",".close",function(){var u=g(this).parent().parent().parent();var t=u.data("msid");var s=u.find(".preloader");var r=u.find(".vidbox");
var q=u.find(".related-videos");u.removeClass("playingvid");s.fadeIn("500");r.fadeOut("500",function(){r.remove()});q.slideUp("500",function(){})})};return c});require(["tiljs/ui","tiljs/event","tiljs/load","tiljs/login","tiljs/is","tiljs/util","tiljs/logger","tiljs/plugin/lazy","tiljs/analytics/mytimes","tiljs/cookie","galogger"],function(G,U,M,A,s,g,t,a,k,u,R){function V(X){var W=$(".articlepage[data-articlemsid='"+X+"'] .relatedarticle");if(W.find("li").length){W.show();return true}$.ajax({url:"/recommendedarticles_show.cms?msid="+X,cache:true}).done(function(Z){var Y=$(Z).find("li").length;
if(Z&&Y>0){W.append(Z);W.find("li a").each(function(aa,ab){$(ab).attr("pg","AS1_InlineMedia#AS1_Related#AS1_"+(aa+1)+"-"+getArticleUrl(X))});W.show()}})}function T(Y,W){var X=$("[data-article-container='"+W+"']");if(X.attr("data-articleshowajax-status")!="false"){return false}X.find(".ajaxarticleloading").show();X.attr("data-articleshowajax-status","loading");$.ajax({url:"/articleshowajax/"+W+".cms?version=15&url="+getArticleUrl(W)+"&enforceseoatarticle=0",cache:true,timeout:10000}).done(function(Z){N(Y,W,Z)
}).fail(function(ab,Z,aa){X.attr("data-articleshowajax-status","failed");F(W);$("#articlelist").find("[data-msid="+W+"]").remove();H.buildUI(true)}).always(function(){X.find(".ajaxarticleloading").hide()})}function N(X,W,Y){try{$("[data-article-container='"+W+"']").attr("data-articleshowajax-status","loaded");$("[data-msid='"+W+"']").removeClass("disable");if(!s.IE()){setTimeout(function(){F(W)},1000)}$("#ajaxcontent").find("[data-article-container='"+W+"']").html(Y);require(["tiljs/ui"],function(aa){if(aa.inView($("[data-article-container='"+W+"']"),true)){H.activeLink(W)
}})}catch(Z){}$(window).trigger("resize");if(typeof(colombiaClear)=="function"){colombiaClear()}}function b(){var ab,Z,ac=5,ae,aa,ah=null;function an(){ab.fadeIn()}function af(){ab.fadeOut()}function ai(){$(".article_nav").show()}function ak(){var ap=Z.find("li"),at=Z.find(".active"),aq=+at.data("articleno");var ar=(aq-ac)*aa,ao=(aq-ac)*aa*ac;if(ar<=0){Z.stop(0,0,0).animate({marginLeft:"0"},function(){ad()})}else{var au=Z.css("margin-left").split("px")[0]*(-1);if(au<ar||au>ao){Z.stop(0,0,0).animate({marginLeft:ar*(-1)+"px"},function(){ad()
})}}}function Y(ao){ab=$("#articlelist");Z=$("#articlelist .articles");if(s.IE()){Z.find("li:gt(4)").remove()}ae=Z.find("li").length;if(ae<ac){ab.hide();$("body").css("padding-bottom","0px");return false}if(typeof ao!="undefined"&&ao){Z.find("li").each(function(ap,aq){$(aq).attr("data-articleno",ap+1).find(".cnt").text(ap+1)})}$("body").css("padding-bottom","77px");ab.show();ad()}function aj(){Y();X()}function X(){Z.on("click","li",function(){var ap=$(this);if(ap.hasClass("disable")){return false
}var ao=ap.data("msid"),ar=ap.data("articleno"),aq=ap.find("a").attr("href");if(ah){clearTimeout(ah)}al(ao);if(ar!=1){ah=setTimeout(function(){al(ao);ah=null},2000)}R.analyticsFire("PerpetualScroll_HorizontalBar",ar,aq);return false});ab.on("click",".article_nav",function(){if($(this).hasClass("disable")){return false}$(this).addClass("disable");ag($(this).data("type"),$(this));return false})}function ag(ar,ap){var aq=0,ao=(ae-ac)*aa;var at=Z.css("margin-left").split("px")[0]*(-1);switch(ar){case"prev":if(at>0){Z.stop(0,0,0).animate({marginLeft:(at*(-1)+aa)+"px"},function(){ad()
})}break;case"next":if(at<ao){Z.stop(0,0,0).animate({marginLeft:(at*(-1)-aa)+"px"},function(){ad()})}break}}function ad(){var ap=0,ao=(ae-ac)*aa;var aq=Z.css("margin-left").split("px")[0]*(-1);$(".article_nav").removeClass("disable").hide();if(aq>aa/2){$('[data-type="prev"]').show()}if(Math.floor(aq)<Math.floor(ao)){$('[data-type="next"]').show()}}function al(ao){$("[data-article-container="+ao+"] .ajaxarticleloading").show();isGoToArticle=true;$("html,body").animate({scrollTop:$("[data-article-container="+ao+"]").offset().top},500,function(){isGoToArticle=false
});am(ao)}function am(ao){Z.find(".active").removeClass("active");Z.find("[data-msid='"+ao+"']").addClass("active");ak()}function W(){var ao=Z.find("li.active").data("msid");return(ao)?ao:""}return{init:aj,buildUI:Y,activeLink:am,getFirstArticleMSID:W}}function q(X,W){if($("#comment-section-"+X).data("status")){return false}$("#comment-section-"+X).data("status",true);require({config:{"tiljs/apps/times/comments":{msid:X,rating:false,rotype:0,messages:{ratemendate:"Please rate before review"},loadCommentFromMytimes:true,nonloggedinComment:true,commentType:"comments_agree",enableparam:true,loadonscroll:false,comment_block_count:W,size:W}}});
require(["tiljs/apps/times/api"],function(Y){Y.updateConfig({post_comment:{url:"/postro2.cms"},comments:{url:"/commentsdata.cms",type:"json",params:{appkey:"TOI",msid:X,sortcriteria:"CreationDate",order:"asc",size:W,lastdeenid:123,after:true,withReward:true,comment_block_count:W}},comments_oldest:{url:"/commentsdata.cms",type:"json",params:{appkey:"TOI",msid:X,sortcriteria:"CreationDate",order:"desc",size:W,lastdeenid:123,after:true,withReward:true,comment_block_count:W}},comments_agree:{url:"/commentsdata.cms",type:"json",params:{appkey:"TOI",msid:X,sortcriteria:"AgreeCount",order:"desc",size:W,lastdeenid:123,after:true,withReward:true,comment_block_count:W}},comments_disagree:{url:"/commentsdata.cms",type:"json",params:{appkey:"TOI",msid:X,sortcriteria:"DisagreeCount",order:"desc",size:W,lastdeenid:123,after:true,withReward:true,comment_block_count:W}},comments_discussed:{url:"/commentsdata.cms",type:"json",params:{appkey:"TOI",msid:X,sortcriteria:"discussed",order:"desc",size:W,lastdeenid:123,after:true,withReward:true,comment_block_count:W}}})
});require(["comments"],function(Y){Y.run({main:"#comments_agree",msid:X,wrapper:"#comment-section-"+X})});$("#comment-section-"+X).on("mouseover",".more-btn, .badge",function(){a.load()})}function S(W){try{W.each(function(){if(!$(this).parent().parent().hasClass("fb-post")){$(this).wrap('<div class="fb-post" data-href="'+$(this).attr("cite")+'" data-width="500"><div class="fb-xfbml-parse-ignore">')}})}catch(X){}}function n(){if(window.FB){window.FB.XFBML.parse()}else{if(!$("#facebook-jssdk").length){M.js("//connect.facebook.net/en_US/all.js#xfbml=1&amp;appId=117787264903013",function(){window.FB.XFBML.parse()
},"facebook-jssdk")}}}function K(){if(window.twttr){window.twttr.widgets.load()}else{if(!$("#twitter-wjs").length){require(["tiljs/social/twitter"],function(W){W.init({parse:true})})}}}function D(){if(window.instgrm){window.instgrm.Embeds.process()}else{if(!$("#instagram-jssdk").length){M.js("//platform.instagram.com/en_US/embeds.js",function(){window.instgrm.Embeds.process()},"instagram-jssdk")}}}function O(ag){var ad=$(".articlepage[data-articlemsid='"+ag+"']").find(".shopping_times_wdgt"),af=ad.find('[data-slider="prev"]'),am=ad.find('[data-slider="next"]'),ah=ad.find(".shopping_gadgets_outer"),aj=ah.find(".shopping_gadgets_frame").length,Y=1,aa=320,X=1,an=Y*aa,ai=[],ak=Math.ceil(aj/Y),ab=0;
function W(){ai[0]=0;for(idx=1;idx<ak;idx++){if((idx+1)==ak){ai[idx]=(aj-((ak-1)*Y))*aa*(-1)+ai[idx-1]}else{ai[idx]=(an*idx)*(-1)}}}function Z(){ad.on("click",'[data-slider="prev"]',function(){if($(this).hasClass("disable")||ab){return false}ab=1;ac()});ad.on("click",'[data-slider="next"]',function(){if($(this).hasClass("disable")||ab){return false}ab=1;ae()});W();ao()}function ao(){if(X!=1){af.removeClass("disable")}else{af.addClass("disable")}if(X!=ak){am.removeClass("disable")}else{am.addClass("disable")
}}function al(ap){var aq=null;if((X==ak)||X==1){aq=ai[X-1]+"px"}else{aq=+ah.css("margin-left").split("px")[0];aq+=(ap=="prev")?an:an*(-1)}ah.stop(0,0,0).animate({"margin-left":aq},function(){ab=0;ao()})}function ac(){X--;al("prev")}function ae(){X++;al("next")}return{init:function(){Z()}}}window.times=times||{};window.times.mobile=window.times.mobile||{};window.times.mobile.shopping={};window.times.mobile.shopping.wdtresponse=function(W){window._shopping_gadgets_dom="";y(W)};function y(Z){var Y=$.map(Z,function(ab,aa){return[ab]
});var W=4;var X=Math.ceil(Y.length/W);for(idx=0;idx<X;idx++){window._shopping_gadgets_dom+=z(Y,idx*W,W*(idx+1))}$('[data-widget="shopping-gadgets"]').each(function(){$(this).html(window._shopping_gadgets_dom);var aa=new O($(this).data("shoppingmsid"));aa.init()})}function z(Z,W,aa){var Y='<ul class="shopping_gadgets_frame">';for(i=W;i<aa&&Z[i];i++){var X="AS_tech#shop#"+(i+1)+"_"+Z[i].PRODUCT_NAME;Y+='<li><a rel="nofollow" pg="'+X+'" class="gdt_img" href="'+Z[i].PRODUCT_URL+'?utm_source=toiweb&utm_medium=referral&utm_campaign=toiweb_asrhswidget" target="_blank"><img src="/photo/34824568.cms" data-src="'+Z[i].IMAGE_URL+'" alt="Shop Gadgets"></a><span class="prodCP"><a pg="'+X+'" href="'+Z[i].PRODUCT_URL+'?utm_source=toiweb&utm_medium=referral&utm_campaign=toiweb_asrhswidget" target="_blank"><span class="gad_name">'+Z[i].PRODUCT_NAME+'</span><span class="price">&#8377; '+Z[i].PRICE+"</span>";
if(!!(Z[i].FEATURE)){Y+='<span class="ftrd">'+Z[i].FEATURE+"</span>"}Y+='<span class="buybtn">BUY</span></a></span></li>'}Y+="</ul>";return Y}function J(X){if(!$('[data-widget="shopping-gadgets"]').length){return false}if(window._shopping_gadgets_dom){$(".articlepage[data-articlemsid='"+X+"']").find('[data-widget="shopping-gadgets"]').html(window._shopping_gadgets_dom);var W=new O(X);W.init();return false}$.ajax({type:"GET",dataType:"jsonp",url:"http://www.shop.gadgetsnow.com/gsearch/gadgetsnow.php",timeout:10000,success:function(Y){}})
}function C(W,Y){if($(".comments[data-commentmsid].slide-in").length&&times.articleshow&&times.articleshow.sc&&times.articleshow.sc.hideComments){var X=$(".comments[data-commentmsid].slide-in");times.articleshow.sc.hideComments(X)}}function j(W,X){C(W,X);if($(".articlepage[data-articlemsid='"+W+"']").data("articleprocess")){return false}if(!!o(W)){l(W)}if(typeof __activity!="undefined"){__activity.push("read")}$(".articlepage[data-articlemsid='"+W+"']").data("articleprocess",true);t.log("Process Article: "+W);
if($(".articlepage[data-articlemsid='"+W+"'] blockquote[class*='twitter']").length||$(".articlepage[data-articlemsid='"+W+"'] .twitter-timeline").length){K()}if($(".articlepage[data-articlemsid='"+W+"'] blockquote[cite*='facebook']").length||$(".articlepage[data-articlemsid='"+W+"'] .fb-like-box").length){S($(".articlepage[data-articlemsid='"+W+"'] blockquote[cite*='facebook']"));n()}if($(".articlepage[data-articlemsid='"+W+"'] blockquote[class*='instagram-media']").length){D()}if(!X&&colombia&&typeof(colombia.clearData)==="function"){colombia.clearData()
}h(W);$(".articlepage[data-articlemsid='"+W+"'] [data-ha]").on("click",function(){var Y=$(this).attr("data-ha");$("[data-ht = "+Y+"]").toggle("fast");$(this).find("i").toggleClass("expand")});$(".articlepage[data-articlemsid='"+W+"'] .highlight .hsummary").mCustomScrollbar({theme:"dark",scrollButtons:{enable:false},mouseWheel:{enable:true,scrollAmount:52},advanced:{updateOnContentResize:true}});$(".articlepage[data-articlemsid='"+W+"'] .abovearticle .slider-inner").mCustomScrollbar({theme:"dark",scrollButtons:{enable:false},mouseWheel:{enable:true,scrollAmount:52},advanced:{updateOnContentResize:true}});
require(["ui_socialshare"],function(Y){var af={element:"article-social",c_ceclass:"toishare",c_sprite:"show_sprite",i_comment:"write",icons:"fb,twitter,gplus,linkedin,pinterest",position:"articleshow_slideshow_social",pgtag:"articleshow_slideshow_social",c_sharebtn:"sharebtn"};$(".articlepage[data-articlemsid='"+W+"'] .slideshowcontainer .toiwidgets_social").socialShare(af);var ae={element:"article-social",c_ceclass:"toishare",c_sprite:"show_sprite",i_comment:"write",icons:"fb,twitter,gplus,linkedin,pinterest",position:"articleshow_video_social",pgtag:"articleshow_video_social",c_sharebtn:"sharebtn"};
$(".articlepage[data-articlemsid='"+W+"'] .articlevideo .toiwidgets_social").socialShare(ae);var ad={element:"article-social",c_ceclass:"toishare",c_sprite:"show_sprite",i_comment:"write",icons:"email,print,fontd,fonti",c_font:"articleshow",c_font_attr:true,fontdefaultsize:100,fontchangesize:5,position:"articleshow_new_topsocial",pgtag:"ReadibilityIcons",pg_prefix:"AS1_",href:getArticleUrl(W),print_url:"/articleshowprint/"+W+".cms",image:getImageUrl(W),twt_short_url:getArticleShortUrl(W)};$(".articlepage[data-articlemsid='"+W+"'] .topsocial .toiwidgets_social").html("").socialShare(ad);
var ab=$(".articlepage[data-articlemsid='"+W+"']").data("articlesec");if(X&&ab=="India"){$("#navigation #nav-india").addClass("current")}var ag=$(".articlepage[data-articlemsid='"+W+"']").data("tweethandle");var Z=$(".articlepage[data-articlemsid='"+W+"']").data("tweethash");var aa=($('[data-comment-type="slider"]').length)?"fb,twitter,gplus,linkedin,pinterest,comment-slider":"fb,twitter,gplus,linkedin,pinterest";var ac={element:"article-social",c_ceclass:"toishare",c_sprite:"show_sprite",i_comment:"write",icons:aa,position:"articleshow_new_leftsocial",pgtag:"Share",pg_prefix:"AS1_",twt_short_url:getArticleShortUrl(W),twt_via:ag,twt_hash:Z,href:getArticleUrl(W),title:$(".articlepage[data-articlemsid='"+W+"']").find("[data-articletitle]").text(),image:getImageUrl(W)};
$(".articlepage[data-articlemsid='"+W+"'] .leftsocial .toiwidgets_social").html("").socialShare(ac)});require(["slideshow"],function(Y){var Z={};Z.ms={d_slides:"slides",d_nextbtn:"next",d_prevbtn:"prev",d_current:"current",d_total:"total",btnclass:"disabled",events:true,master:true,startAt:1,slidesInView:1,slideAtOnce:1,slideTime:400,syncTo:["[data-slideshow='slave']"],scrollbar:false,defaultCaption:false};Z.ss={d_slides:"slides",events:false,master:false,startAt:1,slidesInView:1,slideAtOnce:1,slideTime:400,syncTo:[],scrollbar:false};
$(".articlepage[data-articlemsid='"+W+"'] .slideshowcontainer").slideShow(Z)});require(["jquery","ui_selectshare","ui_inlineshare"],function(Z,aa,Y){Z(function(){var ae=window.location.href;var af=getArticleShortUrl(W);var ac=Z(".articlepage[data-articlemsid='"+W+"']").data("tweethandle");var ag=Z(".articlepage[data-articlemsid='"+W+"']").data("tweethash");var ad={pos:"right",shareBoxWidth:20,minusOffsetTop:35,shortUrl:af,via:ac,hash:ag};Z(".articlepage[data-articlemsid='"+W+"'] .article_content").selectShare(ad);
var ab={classis:"inlineshare",classoriginal:"inlineoriginal",classfb:"fb",classtw:"twitter",pagename:"articleshow",pg_prefix:"AS1_",icons:"facebook,twitter",iconposition:"after",twitterat:"timesofindia",href:getArticleUrl(W),fullurl:ae,shorturl:af};Z(".articlepage[data-articlemsid='"+W+"'] .article_content").inlineShare(ab);Z(".articlepage[data-articlemsid='"+W+"'] [data-inlineshare]").mouseenter(function(){Z(this).parent().find(".inlineoriginal").addClass("inlinebb")}).mouseleave(function(){Z(this).parent().find(".inlineoriginal").removeClass("inlinebb")
})})});require(["articlevideo"],function(Y){Y(W);if(typeof X!="undefined"&&X){if(typeof _geo!="undefined"&&_geo=="1"){if(Get_Ckie_str("auto_off")!="true"){$(".articlepage:first .articlevideo:first .articlevideo_pic").siblings(".play-icon").trigger("click")}}else{if(typeof(switchOffAutoPlay)==="function"){switchOffAutoPlay()}}}});$(".articlepage[data-articlemsid='"+W+"'] .img_cptn").on("click",".toggle_cptn",function(ab){var Z=$(this).closest(".img_cptn"),aa=Z.data("cptn"),Y=Z.data("cptn-view");if(Y=="less"){Z.html(aa+" <a class='toggle_cptn'>Less</a>");
Z.data("cptn-view","full")}else{Z.html(aa.substring(0,110)+"... <a class='toggle_cptn'>Read More</a>");Z.data("cptn-view","less")}return false});$(".articlepage[data-articlemsid='"+W+"'] .social_tabs").on("click",'.ftblock:not(".active")',function(Z){$(this).addClass("active");$(this).siblings(".ftblock").removeClass("active");var Y=$(this).attr("ftid");$(this).siblings("div[ftsec=fbblock]").hide();$(this).siblings("div."+Y).show();return false});$(".articlepage[data-articlemsid='"+W+"'] .article_content a").each(function(Y,Z){if(!$(Z).attr("pg")){$(Z).attr("pg","AS1_InlineMedia#AS1_Link#AS1_"+getArticleUrl(W))
}});$(".articlepage[data-articlemsid="+W+"] .leftsocial .toiwidgets_social").on("click","span",function(){R.analyticsFire("Share",$(this).data("type"),window.location.href)});$(".articlepage[data-articlemsid="+W+"] .popular_widget li [pg]").each(function(Z,aa){var Y="AS1_RHS#AS1_MostPopular#AS1_"+(Z+1)+"-"+getArticleUrl(W);$(this).attr("pg",Y)});$(".articlepage[data-articlemsid="+W+"] .latest_gadgets li a").each(function(Z,aa){var Y="AS1_RHS#AS1_Tech_LatestGadgets#AS1_"+(Z+1)+"-"+getArticleUrl(W);
$(this).attr("pg",Y)});J(W);q(W,3);c(W);V(W);if(window.location.host==="timesofindia.indiatimes.com"&&u.get("MSCSAuth")){k.logActivity(f(W))}}function o(W){return $(".articlepage[data-articlemsid='"+W+"']").data("isbrandwire")}function w(X){var W=X&&X.flagData&&X.flagData.topComment;if(!!W){resp=W.reverse();$.each(resp,function(aa,ad){if(ad.hasOwnProperty("msid")){var ac=ad.msid,Y=$('[data-articlemsid="'+ac+'"]'),Z,ae;if(ad.Times_C==1){ae="timesview";Z=Y.find(".brandwire_response_wrapper")}if(ad.Add_C==1&&ad.Pre_C==0&&ad.Re_C==0){ae="addendum";
Z=Y.find(".brandwire_response_wrapper")}if(ad.Add_C==0&&ad.Pre_C==1&&ad.Re_C==0){ae="comment";Z=Y.find(".brandwire_comment_wrapper")}if(ad.Add_C==0&&ad.Pre_C==0&&ad.Re_C==1){ae="rebbutal";Z=Y.find(".brandwire_response_wrapper")}if(ae=="timesview"){Z.find('[data-contentid="'+ad.N_W_M1+'"]').after($("#brandwire_"+ae).html())}else{Z.append($("#brandwire_"+ae).html())}var ab=Z.find('[data-parse="false"]')[0];title=$("<div/>").html(ad.N_T).text();desc=$("<div/>").html(ad.C_T.replace(/amp;/g,"").replace(/&lt;br\/&gt;/g,"<br/>").replace(/&lt;br \/&gt;/g,"<br/>")).text();
$(ab).show().addClass(ae);$(ab).attr("data-contentid",ad.N_W_M);$(".brandwire_title",ab).html(title);if(ae=="comment"){Y.find(".noComment").hide(0).delay(5000)}$(".brandwire_date",ab).html(ad.C_D);if(ad.hasOwnProperty("N_I")&&ad.N_I.length){$(".brandwire_img",ab).html("<img src='"+ad.N_I+"' />")}else{$(".brandwire_img",ab).hide()}$(".brandwire_content",ab).html(desc);$(ab).find(".more").morelessBtn({showChar:200});$(ab).closest(".brandwire_response").removeClass("hide");$(ab).attr("data-parse",true)
}})}}function l(X){var Z=$("[data-article-container="+X+"] .article_content").html();var Y=Z.match(/(This story has been published.*Brandwire\.in)/gi);if(Y===null){Y=Z.match(/(Press Release by .*via Brandwire\.in)/gi)}if(Y!=null){Y='<i class="italic-brandwire" style="font-weight:700;font-style:italic">'+Y+"</i>";var W="http://www.brandwire.in/Press-Releases.html?utm_source=toi&utm_medium=prlink&utm_campaign="+$(".navbdcrumb li:last").prev().text().replace(/ /g,"").toLowerCase();Y=Y.replace(/(Brandwire\.in)/gi,'<a rel="nofollow" target="_blank" href="'+W+'">$1</a>');
var aa=Z.replace(/(This story has been published.*Brandwire\.in)/gi,Y);aa=Z.replace(/(Press Release by .*via Brandwire\.in)/gi,Y);$("[data-article-container="+X+"] .article_content").html(aa)}}function f(W){var X={appKey:"TOI",uniqueAppID:W,activityType:"Read",baseEntityType:"ARTICLE",objectType:"B",url:getArticleUrl(W)};return X}function c(W){$("#buyt_300_"+W).trigger("buyt")}var I=1;function Q(X){if($(".articlepage[data-articlemsid='"+X+"']").find("br").length<=9||$(".articlepage[data-articlemsid='"+X+"'] .sponsor_block").length){return true
}var W=$(".articlepage[data-articlemsid='"+X+"'] .last8brdiv");W.append('<div class="sponsor_block clearfix"><ul class="colombia" id="129146-'+X+I+'" data-skew="0" data-ad-size="[0,370]" data-expansion-size="[0,480]" data-adwidth="640" data-adheight="360" data-loop="0" data-cb="processCtnAds" data-callback="sponsorAdSuccess" data-position="'+X+I+++'" data-slot="129146" data-autoplay="false" data-native-vid-tmpl="ctn_belly_vid" data-native-tmpl="ctn_midarticle" data-desc-len="90"></ul><div class="alR"><span class="clmblogo">Recommended By Colombia<i class="clmcup"></i></span></div></div>')
}function h(W){Q(W)}function m(Y){var Z=$("[data-articlemsid="+Y+"]");if(typeof Storage!=="undefined"&&window.location.href.indexOf(Y)==-1&&!s.IE()&&!s.tablet()){sessionStorage.setItem("comment:loaded:"+Y,1)}else{var X=Z.find("#comment_sort").val(),W=X.length?"#comments_"+X:"#comments";Z.find(W).show()}}function B(aa){var Y=aa,W=Y.closest(".comment-box"),ac=W.data("level"),X=W.next(),ab=Y.attr("data-togglereplies"),Z=0;Y.attr("data-togglereplies","hide");while(X.data("level")!=ac){if(Z==3){X.before('<div class="show_all_responses comment-box level'+(ac+1)+'" data-level='+ac+' data-action="all_responses"> Show all responses </div>');
break}else{X.slideDown();X=X.next();if(!s.numberOnly(X.data("level"))){break}}Z++}}U.subscribe("comments.loaded",function(Z){var ae=Z.config.msid;$('[data-commentmsid="'+ae+'"] [data-plugin="comment-count"]').text(Z.commentCount);w(Z);m(ae);var W=$(".articlepage[data-articlemsid='"+ae+"'] .last4brdiv").first();if(($(".articlepage[data-articlemsid='"+ae+"']").find("br").length>7)&&W.length>0&&W.attr("data-topcmt-status")!="true"){W.attr("data-topcmt-status",true);var ab=Z.comments[0].comment,Y,X;if(ab.length>220){Y='<span class="cmnttxt">'+ab.substr(0,199)+'... <span class="detail_comment_link">Read More</span></span><span class="cmnttxt" data-type="full_top_cmnt" style="display:none;">'+ab+"</span>"
}else{Y='<span class="cmnttxt">'+ab+"</span>"}X=(Z.comments[0].opinion[0].count>0)?"Top":"Latest";if(Z.comments[0].opinion[0].count>0&&!$('[data-comment-type="slider"]').length){var ac=$("[data-commentmsid="+ae+"]").find('#comments_agree .comment-box:first [data-action="toggle_replies"]');if(ac){B(ac)}}if($('[data-comment-type="slider"]').length){W.append('<div class="show_wdgt topcomment"><div class="msg"><h2><span>'+X+"</span> Comment</h2>"+Y+'<span class="cmntauthor">'+Z.comments[0].user.name+'</span></div><input type="button" data-plugin="show-comments" data-type="allcomment" class="btn" value="See All Comments" pg="TopComment#SeeAllComments#'+getArticleUrl(ae)+'"/><input type="button" data-plugin="show-comments" data-showtype="autofocus" data-type="addcomment" class="btn" value="Add Comment" pg="TopComment#AddComment#'+getArticleUrl(ae)+'"/></div>')
}else{W.append('<div class="show_wdgt topcomment"><div class="msg"><h2><span>'+X+"</span> Comment</h2>"+Y+'<span class="cmntauthor">'+Z.comments[0].user.name+'</span></div><input type="button" data-type="allcomment" class="btn" value="See All Comments" pg="TopComment#SeeAllComments#'+getArticleUrl(ae)+'"/><input type="button" data-type="addcomment" class="btn" value="Add Comment" pg="TopComment#AddComment#'+getArticleUrl(ae)+'"/></div>')}}if($('[data-comment-type="slider"]').length){if(Z.flagData&&typeof Z.flagData.totalcount!="undefined"){var ad=$(".articlepage[data-articlemsid='"+ae+"'] .toiwidgets_social .show_sprite.comment-slider");
var aa=$(".articlepage[data-articlemsid='"+ae+"'] [data-plugin='comments-total-count']");ad.addClass("comment-loaded");ad.append('<span class="tcount">'+Z.flagData.totalcount+" Comments</span>");aa.html(Z.flagData.totalcount)}(function(){var ag=$(".articlepage[data-articlemsid='"+ae+"']");var ao=function(){return(function(ar){return/(?:ipad|tab)/i.test(ar)})(navigator.userAgent||navigator.vendor||window.opera)};if(ao()){return false}if(!ag.find(".bottom-comments").length){var am=$('<div class="bottom-comments" data-msid="'+ae+'">');
var ah=Z.comments.filter(function(ar){return(ar.level===1)});var aj=Math.min(3,ah.length);for(var an=0;an<aj;an++){var aq=ah[an];var ai=$('<div class="comment-box level1" data-id="'+aq.id+'">');var al=aq.user.username||aq.user.id;var af=(al)?'<a href="http://mytimes.indiatimes.com/profile/'+al+'" class="name" target="_blank">'+aq.user.name+"</a>":'<span class="name">'+aq.user.name+"</span>";var ap=aq.user.image||"/photo/29251859.cms";var ak=(aq.comment.length<=150)?aq.comment:aq.comment.substr(0,150)+"...";
ai.append('<div class="user-thumbnail"><img class="userimg flL" data-src="'+ap+'" src="/photo/11350517.cms"/></div>').append(af).append('<p class="short_comment">'+ak+"</p>").append('<div class="footbar clearfix"><span data-action="comment-reply" class="cpointer">Reply</span><span class="up cpointer" data-action="comment-agree" title="Up Vote"><i class="icon-uparrow"></i></span><span class="down cpointer" data-action="comment-disagree" title="Down Vote"><i class="icon-downarrow"></i></span><span class="cpointer flag_comment"> <span data-action="comment-offensive" title="Mark as offensive"></span></span></div>');
am.append(ai)}ag.find('.comments[data-commentmsid="'+ae+'"]').after(am)}})();require(["tiljs/ui"],function(af){var ag=$(".articlepage[data-articlemsid='"+ae+"'] .comments .article");ag.on("scroll",function(){var ah=ag.find(".loadmore");ah.each(function(){if(af.inView($(this))){$(this).trigger("click")}})})})}else{$(".articlepage[data-articlemsid='"+ae+"'] .last4brdiv").on("click",".msg",function(){var af=$(".comments[data-commentmsid='"+ae+"'] #comments_agree").offset().top;$("html, body").animate({scrollTop:af},1500);
return false});$(".articlepage[data-articlemsid='"+ae+"'] .last4brdiv").on("click",".btn",function(){var af=($(this).data("type")=="addcomment")?$(".comments[data-commentmsid='"+ae+"']").offset().top:$(".comments[data-commentmsid='"+ae+"'] #comments_agree").offset().top;$("html, body").animate({scrollTop:af},1500)})}$(".articlepage[data-articlemsid='"+ae+"'] .last4brdiv").on("click",".detail_comment_link",function(){$(this).parent().hide();$(this).parent().next().show();R.analyticsFire("TopComment","ReadMore",window.location.href);
return false});if(isShowMoreContentClick&&$(".article-content-wrapper").innerHeight()>$(".sidebar").innerHeight()){isShowMoreContentClick=false;$(".stickyAd").addClass("sticky_ad")}else{$(".stickyAd").removeClass("sticky_ad")}});if($('[data-comment-type="slider"]').length){U.subscribe("comments.loaded.none",function(Y){var W=Y.config.msid;var X=$(".articlepage[data-articlemsid='"+W+"']");X.find(".toiwidgets_social .comment-slider.show_sprite").css("background-color","#cacaca");X.find(".cmtbtn-wrapper").addClass("zero-comments").find(".cmtbtn.view").remove();
X.find(".comments .dyn-width .text").text("Be the first one to review")})}$(window).load(function(){var Z=g.getParam();var X=window.location.hash;var Y=X.substring(1,X.length);if(Z.slideshow&&Z.slide){t.log("Slideshow Detected: "+Z.slideshow+" "+Z.slide);var aa={sliderid:Z.slideshow,slideid:Z.slide,val:Y};var W=$("[data-msid='"+Z.slideshow+"']").offset().top;$("html, body").animate({scrollTop:W-100},2000);if(X){U.publish("slider.slideto",aa)}}});var P=(function L(){var X=0;function W(){var Z=$(window).scrollTop();
var Y=Z>X?"down":"up";X=Z;return Y}return{dir:W}})();var p,d=0,x=0,L="upwards";$(window).on("scroll",function(X){if(!isGoToArticle){r()}var W=$(this).scrollTop();if(W>x){L="downwards";$("body").addClass("scroll-down").removeClass("scroll-up")}else{L="upwards";$("body").addClass("scroll-up").removeClass("scroll-down")}x=W});function E(X){try{var W=$("#articlelist").find('[data-msid="'+X+'"]').next().data("msid");if(typeof W!="undefined"){return W}return false}catch(Y){return false}}function F(X){if(X){var W=E(X);
if(W){T(X,W)}}}function v(W){return $("[data-articlemsid="+W+"] .auth_detail").length?$("[data-articlemsid="+window.msid+"] .auth_detail").text():""}function e(W){try{window.__activity=["read"];if(typeof window._tp_async_data!="undefined"){_tp_async_data.URL=escape(getArticleUrl(W))}timespointsapp.prelogin.init()}catch(X){}}function r(){var Z=$("#articlelist");if(!G.inView(Z)&&$(window).scrollTop()>160){Z.stop(0,0,0).animate({bottom:0},500,function(){if(!s.IE()){F(window.msid)}})}if((P.dir()=="up")&&!G.inView($("#header"),true)){$("#navigation").addClass("sticky")
}else{$("#navigation").removeClass("sticky");var ab=getArticleSection(msid);if(ab.toLowerCase()=="sports"||ab.toLowerCase()=="business"){if(G.inView($(".navbdcrumb"),true)){$("#navigation").removeClass("sticky")}else{$("#navigation").addClass("sticky")}}}stickyAd();var ae=$(".sidebar").innerHeight();var X=$(".article-content-wrapper").innerHeight();var ac={};ac.as=$("[data-articlemsid]");ac.msid=window.msid;ac.as.each(function(ai,ah){var ao=$(ah);var ak=ao.find(".leftsocial");var ag=ao.find(".stickyAd");
var an=(ag.prev().css("display")!="none")?ag.prev():ag.prev().prev();var aj=ao.find("[data-articlepage-end]").offset().top;if(ag.length){var al=ag.outerHeight();var af=ag.offset().top}if(G.inView(ao,true)){var ap=ao.data("articlemsid");H.activeLink(ap);if(s.IE()&&(G.inView(ao.find("[data-articlepage-end]"),true))){F(ap)}ac.title=ao.find("[data-articletitle]").text()+" - Times of India";ac.seo=ao.data("articleseo");ac.link="/";if(window.msid!=ap){window.msid=ap;if(typeof window.msid=="undefined"||!window.msid.length){window.msid=H.getFirstArticleMSID()
}if(ac.seo&&ac.seo.length>0){ac.link+=ac.seo+"/"}ac.link+="articleshow/"+window.msid+".cms"}if(G.inView(ao.find("[data-articlepage-end]"),true)){ak.addClass("maxbottom");ak.removeClass("sticky")}else{if(G.inView(ao.find("[data-articlepage-start]"),true)){ak.removeClass("maxbottom");ak.removeClass("sticky")}else{ak.removeClass("maxbottom");ak.addClass("sticky");var am=getArticleSection(msid);if(am.toLowerCase()=="sports"||am.toLowerCase()=="business"){if(G.inView(ao.find(".time_cptn"),true)){ak.removeClass("maxbottom");
ak.removeClass("sticky")}}}}if(ag.length){if((aj-af)>(al+160)){if(G.inView(an,true)){ag.removeClass("maxbottom_ad");ag.removeClass("sticky_adwidget")}else{if(G.inView(ao.find("[data-articlepage-end]"),true)){ag.removeClass("sticky_adwidget")}else{if(G.inView(ao.find(".stickyAd"),true)){ag.removeClass("maxbottom_ad");ag.addClass("sticky_adwidget")}}}}}}else{ak.addClass("maxbottom");ak.removeClass("sticky");ag.removeClass("sticky_adwidget")}if((G.inView(ag,true))&&!(G.inView(ag.prev(),true))&&X>ae&&!(G.inView(ao.find("[data-articlepage-end]"),true))){$(".stickyAd").addClass("sticky_ad")
}else{$(".stickyAd").removeClass("sticky_ad")}});if(ac.msid!=window.msid){if(typeof Storage!=="undefined"&&sessionStorage.getItem("comment:loaded:"+window.msid)){sessionStorage.setItem("comment:loaded:"+window.msid,0);var W=$("[data-articlemsid="+window.msid+"]");var Y=W.find("#comment_sort").val(),ad=Y.length?"#comments_"+Y:"#comments";W.find(ad).show()}for(idx=1;idx<=2;idx++){if(typeof Storage!=="undefined"&&sessionStorage.getItem("Ad:"+ac.msid+":"+idx)){sessionStorage.setItem("Ad:"+ac.msid+":"+idx,0);
$("[data-articlemsid="+window.msid+"]").find("[data-adslot-no="+idx+"]").parent().css("height","auto")}}H.activeLink(window.msid);try{document.getElementsByTagName("title")[0].innerHTML=ac.title}catch(aa){t.log("Cannot update Title Tag on Scroll")}try{window.history.replaceState({},ac.title,ac.link);j(window.msid);Q(window.msid);if(typeof(ga)=="function"){ga("send",{hitType:"pageview",page:ac.link,title:ac.title,location:getArticleUrl(window.msid)})}if(typeof(fireComscore)=="function"){fireComscore()
}if(typeof(PWT.jsLoaded)=="function"){PWT.jsLoaded()}if(typeof(buildAdsAj)=="function"){buildAdsAj(window.msid)}e(window.msid);if(typeof(timeslog)=="function"){timeslog(window.msid)}if(typeof(pSUPERFLY)!="undefined"&&typeof(pSUPERFLY.virtualPage)=="function"){_sf_async_config.authors=v(window.msid);pSUPERFLY.virtualPage(ac.link,ac.title)}if($('script[src="/mitr.cms"]').length){$('script[src="/mitr.cms"]').remove();M.js("/mitr.cms")}R.analyticsFire("PerpetualScrollView","ArticleScroll",window.location.href)
}catch(aa){t.log("Cannot replace state of URL")}(function(){$(".dashvideoframe").each(function(){if($(this).closest("[data-articlemsid]").attr("data-articlemsid")!=window.msid){if(this.contentWindow.vplayer.streamStatus()=="content"){this.contentWindow.vplayer.pauseContent()}else{this.contentWindow.vplayer.objData.adContinued=true}}else{this.contentWindow.vplayer.objData.adContinued=false}})})();(function(){var af=window.msid;setTimeout(function(){if(af==window.msid){if(typeof setPageConfig=="function"){setPageConfig(_ibeat_config[window.msid])
}if(typeof iBeatPgTrend!="undefined"){iBeatPgTrend.init()}}},1000)})()}}var H=new b();H.init();if(typeof msid!="undefined"){j(msid,true)}if(s.IE()){$("#ajaxcontent").find("[data-article-container]:gt(3)").remove()}U.subscribe("comment.sort",function(W){R.analyticsFire("Comment","Sort",W+" - "+window.location.href)});U.subscribe("comment.opinion",function(W){R.analyticsFire("Comment",W,window.location.href)});U.subscribe("comment.readmore",function(W){R.analyticsFire("Comment","ReadMore",window.location.href)
});U.subscribe("comment.togglereplies",function(W){R.analyticsFire("Comment","ShowReplies",W+" - "+window.location.href)});U.subscribe("comment.post.end",function(W){R.analyticsFire("Comment","Article",window.location.href)});R.analyticsFire("PerpetualScrollView","ArticleScroll",window.location.href)});if(window.localStorage&&window.localStorage.getItem("article-fsize")!=null){$(".articleshow").attr("data-font",window.localStorage.getItem("article-fsize"));sessionStorage.clear()}function getArticleUrl(a){return window.location.protocol+"//"+window.location.hostname+$('#articlelist [data-msid="'+a+'"] a').attr("href")
}function getArticleShortUrl(b){var a=$(".articlepage[data-articlemsid='"+b+"']").data("shorturl");return a||null}function getArticleSection(){var a=$(".articlepage[data-articlemsid='"+msid+"']").data("articlesec");return a||null}function getImageUrl(b){var a=$(".articlepage[data-articlemsid='"+b+"']").find("[data-imgid]").data("imgid");a=a?a:"47529300";return"http://timesofindia.indiatimes.com/photo/"+a+".cms"}function adsVisibility(a,c){var b=$("[data-articlemsid="+a+"]");require(["ui","tiljs/is"],function(e,d){if(typeof Storage!=="undefined"&&window.location.href.indexOf(a)==-1&&!d.IE()&&!d.tablet()){sessionStorage.setItem("Ad:"+a+":"+c,1)
}else{b.find("[data-adslot-no="+c+"]").parent().css("height","auto")}})}function hideAds(b,d){if(d){var c=d.data("index");if(b){d.prev().show();var e=d.data("adslot-no");$(".articlepage[data-articlemsid="+c+"] .ctn_ads_rhs [pg]").each(function(g,m){try{var j=getArticleUrl(c);var h=$(m).attr("pg").split("#");if(-1==h[0].indexOf("AS1")){var f="AS1_"+h[0]+"#AS1_"+h[1]+"#AS1_"+h[2]+"-"+j;$(m).attr("pg",f)}}catch(l){}});if(typeof e!="undefined"){adsVisibility(c,e)}}else{var a=d.parents(".ctn_ads_rhs");
if(a.find('[data-cb="processCtnAds"]:hidden').length>1){a.hide()}}}}function hideCompositeAds(d){var b=d.data("index"),a=d.data("container");if(d&&d.length!=0){d.attr("data-hidden","true");var c=$(".articlepage[data-articlemsid="+b+"]").find("."+a);if(c.find("[data-hidden]").length===c.find("[data-ad-id]").length){c.hide()}}}function setAutoplayAds(a,b){if(b&&b.length!=0&&!b.data("autoplay")&&a===true){if(typeof _geo!="undefined"&&_geo!=1&&!$(".ctn-vid-ad[data-played]").length){b.attr("data-autoplay","true").attr("data-audio","false").click()
}}else{if(a===false){hideAds(a,b)}}}function sponsorAdSuccess(a,b){if(a&&b){b.parent().addClass("loaded")}}var isGoToArticle=false,isShowMoreContentClick=false;(function NIC(){var o=$(".nic_container"),g="/nic.cms?v=7";require(["nicvideo"],function(p){p(msid)});var f=null,j=null,h=null,n=null;var e=$(window).width()-$(".sidebar").offset().left-20,k=e+"px",m=(-1)*e+"px";o.css({width:k,right:m});$("#container").on("click",".nic_handler",function(){var p=$(this);if(p.hasClass("nicactive")){d()}else{j=p;
f=p.parents(".main-content").siblings(".sidebar");h=p.parents(".article_content");n=($(f).find(".ad:first div[data-size *= 250] iframe").length>0)?$(f).find(".ad:first div[data-size *= 250]").outerHeight():0;$(f).children().addClass("sb_hide").css({visibility:"hidden"});$(f).find(".ad:first").removeClass("sb_hide").css({visibility:"visible"});o.css({width:($(window).width()-$(f).offset().left),top:($(f).offset().top-$(window).scrollTop()>0)?($(f).offset().top-$(window).scrollTop()):0});$(".nicactive").removeClass("nicactive");
p.addClass("nicactive");var q=g+"&msid="+p.data("nic_msid")+"&mstype="+p.data("nic_mstype")+"&mssubtype="+p.data("nic_mssubtype")+"&hostid="+p.data("nic_host");b(q,p.data("nic_msid"))}});$("#container").on("click",".close_nic",function(){d()});$(document).on("click",".loadmore",function(){isShowMoreContentClick=true});function d(){o.animate({right:m},"",function(){o.html('<img src="/photo/42715392.cms" class="newsc_loader"/>').hide()});if(f){$(f).find(".sb_hide").removeClass("sb_hide").css({visibility:"visible"})
}$(".nicactive").removeClass("nicactive");f=null;h=null;n=null}times=window.times||{};times.articleshow=window.times.articleshow||{};times.articleshow.closeNICFrame=d;function a(){if(typeof $(j).data("nic_msid")!="undefined"&&typeof $(j).data("nic_mstype")!="undefined"&&typeof $(j).data("nic_mssubtype")!="undefined"){var p=o.find(".newsc_text h4").text(),q="/nic.cms?msid="+$(j).data("nic_msid")+"&mstype="+$(j).data("nic_mstype")+"&mssubtype="+$(j).data("nic_mssubtype"),r=window.location.protocol+"//"+window.location.hostname+q;
if(typeof(ga)=="function"){ga("send",{hitType:"pageview",page:q,title:p,location:r})}if(typeof(COMSCORE)!="undefined"&&typeof(COMSCORE.beacon)=="function"){COMSCORE.beacon({c1:"2",c2:"6036484"})}}}function b(p,q){o.css("right",m).html('<img src="/photo/42715392.cms" class="newsc_loader"/>').hide();c(p,q);o.show();o.animate({right:0})}function l(){if(o.find("blockquote[class*='twitter']").length||o.find(".twitter-timeline").length){if(window.twttr){window.twttr.widgets.load()}else{if(!$("#twitter-wjs").length){require(["tiljs/social/twitter"],function(p){p.init({parse:true})
})}}}}function c(p,q){$.get(p,function(r){o.html(r);o.find(".nic_body").css({height:$(window).height()-$("#articlelist").height()-o.find(".nic_overlay").outerHeight()-40});l();a()})}$(window).on("scroll",function(){if(f&&h&&n){if(($(f).parents("[data-article-container]").offset().top>0)&&($(window).scrollTop()+$(window).height()-$("#articlelist").height()<$(f).parents("[data-article-container]").offset().top)){d()}if($(window).scrollTop()<=$(f).offset().top+n){o.css({top:$(f).offset().top+n-$(window).scrollTop()})
}else{if(($(window).scrollTop()>$(f).offset().top+n)&&($(window).scrollTop()<=$(h).offset().top+$(h).outerHeight())){o.css({top:0})}else{d()}}}});$(window).off("resize").on("resize",function(){if(window.innerHeight>window.innerWidth){$("#container .nic_handler").removeClass("nic_handler").addClass("nic_off");d()}else{$("#container .nic_off").removeClass("nic_off").addClass("nic_handler")}if(o.is(":visible")){o.css({width:($(window).width()-$(f).offset().left),top:($(f).offset().top-$(window).scrollTop()>0)?($(f).offset().top-$(window).scrollTop()):0});
o.find(".nic_body").css({height:$(window).height()-$("#articlelist").height()-o.find(".nic_overlay").outerHeight()-40})}})})();(function(){if(!$('[data-comment-type="slider"]').length){return false}require(["tiljs/ui","tiljs/event"],function(b,a){times=window.times||{};times.articleshow=window.times.articleshow||{};times.articleshow.sc={};times.articleshow.sc.loadmoreComments=function(c){setTimeout(function(){var d=c.find(".comments .article .loadmore");d.each(function(){if(b.inView($(this))){$(this).trigger("click")
}})},200)};times.articleshow.sc.isTablet=function(){return(function(c){return/(?:ipad|tab)/i.test(c)})(navigator.userAgent||navigator.vendor||window.opera)};times.articleshow.sc.showComments=function(e,h,k){var g=e.find("#comment-holder"),j=e.find("#post-comment");e.find("[data-plugin=comment-input]").val("");e.find('[data-plugin="offensive_popup"]').hide();e.find('[data-plugin="comment-reply"]').hide();e.find(".holder-pos-top").removeClass("holder-pos-top");j.removeClass("disable");e.find(".comments .article").mCustomScrollbar("scrollTo","top");
if(times.articleshow.sc.isTablet()){var d=e.find(".comments[data-commentmsid]").offset().top;$("html, body").animate({scrollTop:d},1000,function(){if(h.attr("data-showtype")==="autofocus"){e.find('[data-plugin="comment-input"]:eq(0)').focus()}});return false}else{var f=$(window).width()-e.find(".sidebar").offset().left-20;f=Math.round(Math.min(f,$(window).width()/2));e.find(".comments[data-commentmsid] .article").css("width",f);e.find(".comments[data-commentmsid] .article .dyn-width").css("width",(f+10));
g.css("width",(f+10));e.find(".comments[data-commentmsid] .article")[0].scrollTop=0;$("#navigation.sticky").removeClass("sticky");if(times.articleshow&&typeof times.articleshow.closeNICFrame==="function"){times.articleshow.closeNICFrame()}e.find(".comments[data-commentmsid]").addClass("slide-in");$("body, html").addClass("disable-scroll");setTimeout(function(){e.find(".sidebar").hide();if(h.attr("data-showtype")==="autofocus"){e.find('[data-plugin="comment-input"]:eq(0)').focus()}if(typeof k==="function"){k()
}times.articleshow.sc.loadmoreComments(e)},500)}e.find(".trigger-post-comment").off("click").on("click",function(n){if(!g.hasClass("holder-pos-top")){g.addClass("holder-pos-top");j.addClass("disable")}else{g.removeClass("holder-pos-top");j.removeClass("disable")}});var l="/"+e.data("articleseo")+"/article_comments/"+e.data("articlemsid")+".cms";var c=getArticleUrl(e.data("articlemsid")).replace("articleshow","article_comments");var m=e.find("h1[data-articletitle]").text();ga("send",{hitType:"pageview",page:l,title:m,location:c});
if(typeof COMSCORE!="undefined"&&typeof COMSCORE.beacon=="function"){COMSCORE.beacon({c1:"2",c2:"6036484"})}};a.subscribe("comment.post.posted",function(){var d=$(".comments[data-commentmsid].slide-in").closest(".articlepage");var c=d.find("#comment-holder"),e=d.find("#post-comment");if(c.hasClass("holder-pos-top")){c.removeClass("holder-pos-top");e.removeClass("disable")}});a.subscribe("comment.post.error",function(){$(".comment-processing").removeClass("comment-processing")});a.subscribe("comment_error",function(c){if(c){$(".comment-processing").removeClass("comment-processing")
}});a.subscribe("comment.post.posting",function(){$(".comment-processing").removeClass("comment-processing")});a.subscribe("comment.post.validation.failed",function(){$(".comment-processing").removeClass("comment-processing")});a.subscribe("comment.post.posted",function(){setTimeout(function(){$(".comment-box.level0.highlight").eq(0).addClass("fadein")},500)});a.subscribe("comment.flag.show",function(g){var f=g.closest(".comment-box").position().top+g.closest(".comment-box").height(),e=g.height(),d=$(window).height(),c=g.closest(".article").find(".mCSB_dragger").position().top;
$('[data-plugin="offensive_popup"]').hide();$(".popup_above").removeClass("popup_above");if(((f-c)+e)>d){$(g).addClass("popup_above")}});$("[data-plugin=comment-post]").off("click").on("click",function(){$(this).closest("#comment-holder").addClass("comment-processing")});times.articleshow.sc.hideComments=function(c){c.closest(".articlepage").find(".sidebar").show();c.removeClass("slide-in");$("body,html").removeClass("disable-scroll")};times.articleshow.sc.bindEvents=function(){$(document).on("click",".bottom-comments",function(h){var d=$(this).closest(".articlepage");
var g=h.target.closest("[data-action]");if(g){var f=$(g).attr("data-action");var c=$(g).closest(".comment-box.level1").attr("data-id")}times.articleshow.sc.showComments(d,$(this),function(){if(g){var e=d.find('[data-comment-type="slider"] .comment-box.level1[data-id="'+c+'"] [data-action="'+f+'"]');e.trigger("click")}})});$(document).on("click","[data-plugin='show-comments']",function(){var c=$(this).closest(".articlepage");if(!c.find(".comments .article").hasClass("mCustomScrollbar")){c.find(".comments .article").mCustomScrollbar({theme:"dark",scrollButtons:{enable:false},mouseWheel:{enable:true,scrollAmount:52},advanced:{updateOnContentResize:true,autoScrollOnFocus:false},callbacks:{onScroll:function(){if(b.inView(c.find('[data-plugin="comment-input"]:eq(0)'))){c.find("#post-comment").hide()
}else{c.find("#post-comment").show()}}}})}times.articleshow.sc.showComments(c,$(this))});$(document).on("click",".comments[data-commentmsid]",function(d){if($(d.target).find(".article .comment-section").length){var c=$(this);times.articleshow.sc.hideComments(c)}else{if($(d.target).hasClass("close_comments")){var c=$(this).closest(".comments[data-commentmsid]");times.articleshow.sc.hideComments(c)}}});$(document).on("keyup",function(c){if(c.keyCode==27&&$(".comments[data-commentmsid].slide-in").length){var d=$(".comments[data-commentmsid].slide-in");
times.articleshow.sc.hideComments(d)}});a.subscribe("comments.loaded",function(d){if($(".comments[data-commentmsid].slide-in").length){var c=$(".comments[data-commentmsid].slide-in").closest(".articlepage");times.articleshow.sc.loadmoreComments(c)}})};times.articleshow.sc.bindEvents()})})();function stickyAd(){var a=$("#addContainer");var c=$(".main-content").offset().top;var b=$(window).scrollTop();if(b>=c){a.addClass("sticky_rightad")}else{a.removeClass("sticky_rightad")}}(function(a){a.fn.morelessBtn=function(b){return this.each(function(){if(typeof(this._init)==="boolean"&&this._init===true){return this
}this._init=true;var f=a.extend({},{showChar:100,ellipsestext:"...",moretext:"See more",lesstext:"See less"},b);var j=this;j.content=a(this).html();var g=a(this).html();console.log(g);if(g.length>f.showChar){var k=g.substr(0,f.showChar);var e=g.substr(f.showChar,g.length-f.showChar);var d=k+'<span class="moreellipses">'+f.ellipsestext+'&nbsp;</span><span class="morecontent"><span>'+e+'</span>&nbsp;&nbsp;<a href="" class="morelink">'+f.moretext+"</a></span>";a(this).html(d)}a(j).on("click",".morelink",function(){if(a(this).hasClass("less")){a(this).removeClass("less");
a(this).html(f.moretext)}else{a(this).addClass("less");a(this).html(f.lesstext)}a(this).parent().prev().toggle();a(this).prev().toggle();return false})})}})(jQuery);require(["tiljs/ui"],function(b){var a=0;$(window).scroll(function(d){var c=$("#new_ss"+msid),e=c.offset().top;if($(this).scrollTop()>e){c.css("background","red")}else{c.css("background","black")}})});